<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>都2020了，带你开发hexo主题 | wallleap</title>
  <meta name="keywords" content=" 主题 ">
  <meta name="description" content="都2020了，带你开发hexo主题 | wallleap">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="念两句诗          叙别梦、扬州一觉。          【宋代】吴文英《夜游宫·人去西楼雁杳》       .images{ 	float: left;     width: 100%;     height: 300px;     position: relative;     margin: 20px 0">
<meta property="og:type" content="website">
<meta property="og:title" content="图集">
<meta property="og:url" content="https://wallleap.cn/photo/index.html">
<meta property="og:site_name" content="wallleap">
<meta property="og:description" content="念两句诗          叙别梦、扬州一觉。          【宋代】吴文英《夜游宫·人去西楼雁杳》       .images{ 	float: left;     width: 100%;     height: 300px;     position: relative;     margin: 20px 0">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=46b93e4b7d1ed21b79c929e39555baf9/14ce36d3d539b600fbdea00ee950352ac65cb773.jpg">
<meta property="article:published_time" content="2020-02-23T07:09:21.000Z">
<meta property="article:modified_time" content="2020-03-24T14:15:05.640Z">
<meta property="article:author" content="Luwang">
<meta property="article:tag" content="wallleap">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=46b93e4b7d1ed21b79c929e39555baf9/14ce36d3d539b600fbdea00ee950352ac65cb773.jpg">


<link rel="icon" href="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/favicon.ico">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css" rel="stylesheet">
<link href="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css" rel="stylesheet">

<script src="//cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/customize.css">
<link rel="stylesheet" href="/css/github-badge.css">

<link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/honjun/hexo-tag-emojis-byhj/css/emoji.css">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
	.pace .pace-progress {  background: rgb(251, 129, 30); /*进度条颜色*/
	height: 3px;  }
	.pace .pace-progress-inner {  box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
	}
	.pace .pace-activity {  border-top-color: rgb(251, 129, 30);    /*上边框颜色*/
	border-left-color: rgb(251, 129, 30);    /*左边框颜色*/
	}
</style>

  

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b19f0ec10bac681106907eb1ee978d34";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
  <!-- site-verification -->
  <meta name="google-site-verification" content="ZT29P3khtw1qk30lwEOdMqAGXvN3HGllzjzbB5Wln4k" />
  <meta name="baidu-site-verification" content="AQqaOCFUn0" />
  <meta name="360-site-verification" content="e9f3f65ff40b09c81ba47287a55363cd" />
  <meta name="sogou_site_verification" content="jAPTO5JOth"/>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151908301-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-151908301-1');
  </script>
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="wallleap" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="false" />
</div>


<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/avatar.jpg" />
</a>
<div class="author">
    <span>Luwang</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/wallleap" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="weibo" href="http://weibo.com/u/6023739034" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-weibo"></use>
                </svg>
            
        </a>
        
    
        
        <a title="jianshu" href="https://www.jianshu.com/u/9357dd145d53" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-jianshu"></use>
                </svg>
            
        </a>
        
    
        
        <a title="zhihu" href="https://www.zhihu.com/people/8afbefe61c28c0fafed189b234afc91d" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-zhihu"></use>
                </svg>
            
        </a>
        
    
        
        <a title="csdn" href="https://me.csdn.net/qq_36949103" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-csdn"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="email" href="mailto:15579576761@163.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=990083804&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
        <a title="kugou" href="https://www.kugou.com/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-kugou"></use>
                </svg>
            
        </a>
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=453867086" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(53)</small></div></li>
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="博客"><i class="fold iconfont icon-right"></i>博客<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="博客<--->valine">valine<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="电脑"><i class="fold iconfont icon-right"></i>电脑<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="电脑<--->Win10">Win10<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="笔记"><i class="fold iconfont icon-right"></i>笔记<small>(28)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="笔记<--->后端">后端<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->Hexo">Hexo<small>(8)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->Markdown">Markdown<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->五笔学习">五笔学习<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->前端">前端<small>(13)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->微信">微信<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->转载">转载<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="笔记<--->黑苹果">黑苹果<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="编程"><i class="fold iconfont icon-right"></i>编程<small>(2)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="编程<--->数据结构">数据结构<small>(2)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="网络"><i class="fold iconfont icon-right"></i>网络<small>(15)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="网络<--->HCNA">HCNA<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="网络<--->华三">华三<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="网络<--->基础">基础<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="资源"><i class="fold iconfont icon-right"></i>资源<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="资源<--->图集">图集<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="转载"><i class="fold iconfont icon-right"></i>转载<small>(2)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="转载<--->主题">主题<small>(2)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="阅读">阅读<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="53">
<input type="hidden" id="yelog_site_word_count" value="274.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://www.zh66.club">皮皮家园</a></li>
            
            <li><a target="_blank" href="https://jwmm.xyz/">喵喵喵~</a></li>
            
            <li><a target="_blank" href="https://evrstr.tk/">evrStr</a></li>
            
            <li><a target="_blank" href="https://leeyiding.com/">LeeYD</a></li>
            
            <li><a target="_blank" href="https://cndrew.cn/">Uncle_drew</a></li>
            
            <li><a target="_blank" href="https://yremp.live/">Yremp</a></li>
            
            <li><a target="_blank" href="https://immmmm.com/">木木木木木</a></li>
            
            <li><a target="_blank" href="https://you.ci/">有次博客</a></li>
            
            <li><a target="_blank" href="https://www.fezhu.top/">Uncleacc</a></li>
            
            <li><a target="_blank" href="https://nateshao.gitee.io/">千羽</a></li>
            
            <li><a target="_blank" href="https://chanshiyu.com/">蝉时雨</a></li>
            
            <li><a target="_blank" href="https://www.antmoe.com/">小康博客</a></li>
            
            <li><a target="_blank" href="https://www.lete114.top/">Lete乐特</a></li>
            
            <li><a target="_blank" href="/">等待收录中……</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ACL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Ajax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AngularJS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Blog</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C/C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CSS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>eNsp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>eNSP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ES</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hackintosh</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HCL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HCNA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HTML</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jQuery</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Markdown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MongoDB</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NAT</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NodeJS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OSPF</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>React</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RIP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Sakura</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>STP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Ubuntu</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>VLAN</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>w650dc</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>web</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Win10</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>主题</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>五笔</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>交换机</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>企业网</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前端</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>华三</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>博客</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>后端</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图集</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>安装</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>实验</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>微信</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>微信防盗链</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>悦读</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>技术</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>框架</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>模块化</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>考研</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>英语</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>逆水寒</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>配置</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>黑苹果</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 笔记 黑苹果 "
           href="/2019/03/14/w650dc-hackintosh/"
           data-tag="w650dc,hackintosh,黑苹果"
           data-author="" >
            <span class="post-title" title="毁灭者DC W650DC装黑苹果心得">毁灭者DC W650DC装黑苹果心得</span>
            <span class="post-date" title="2019-03-14 21:27:46">2019/03/14</span>
        </a>
        
        <a id="top" class="全部文章 网络 "
           href="/2019/09/30/web-HCL9/"
           data-tag="eNSP,企业网"
           data-author="" >
            <span class="post-title" title="使用eNSP搭建企业网络">使用eNSP搭建企业网络</span>
            <span class="post-date" title="2019-09-30 07:58:17">2019/09/30</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/08/28/VUE/"
           data-tag="前端,web,JavaScript,Vue"
           data-author="" >
            <span class="post-title" title="Vue学习笔记">Vue学习笔记</span>
            <span class="post-date" title="2020-08-28 12:33:14">2020/08/28</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/08/20/AJAX/"
           data-tag="前端,web,Ajax"
           data-author="" >
            <span class="post-title" title="Ajax学习笔记">Ajax学习笔记</span>
            <span class="post-date" title="2020-08-20 12:33:14">2020/08/20</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/07/12/React/"
           data-tag="前端,框架,React"
           data-author="" >
            <span class="post-title" title="React全家桶(技术栈)学习笔记">React全家桶(技术栈)学习笔记</span>
            <span class="post-date" title="2020-07-12 16:54:50">2020/07/12</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/07/04/Git/"
           data-tag="前端,Git"
           data-author="" >
            <span class="post-title" title="Git学习笔记">Git学习笔记</span>
            <span class="post-date" title="2020-07-04 23:33:49">2020/07/04</span>
        </a>
        
        <a  class="全部文章 笔记 后端 "
           href="/2020/06/14/nodejs/"
           data-tag="后端,NodeJS"
           data-author="" >
            <span class="post-title" title="NodeJs学习笔记">NodeJs学习笔记</span>
            <span class="post-date" title="2020-06-14 11:33:49">2020/06/14</span>
        </a>
        
        <a  class="全部文章 笔记 后端 "
           href="/2020/06/14/MongoDB/"
           data-tag="后端,MongoDB"
           data-author="" >
            <span class="post-title" title="MongoDB学习笔记">MongoDB学习笔记</span>
            <span class="post-date" title="2020-06-14 11:22:00">2020/06/14</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/06/04/AngularJs/"
           data-tag="前端,AngularJS"
           data-author="" >
            <span class="post-title" title="AngularJs学习笔记">AngularJs学习笔记</span>
            <span class="post-date" title="2020-06-04 23:33:49">2020/06/04</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/06/04/ES/"
           data-tag="前端,ES,模块化"
           data-author="" >
            <span class="post-title" title="ES和模块化学习笔记">ES和模块化学习笔记</span>
            <span class="post-date" title="2020-06-04 23:33:49">2020/06/04</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/04/26/jQuery/"
           data-tag="前端,web,JavaScript,jQuery"
           data-author="" >
            <span class="post-title" title="jQuery学习笔记">jQuery学习笔记</span>
            <span class="post-date" title="2020-04-26 20:33:14">2020/04/26</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/04/15/JavaScriptAdvance/"
           data-tag="前端,web,JavaScript"
           data-author="" >
            <span class="post-title" title="JavaScript高级学习笔记">JavaScript高级学习笔记</span>
            <span class="post-date" title="2020-04-15 19:33:14">2020/04/15</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/04/05/JavaScriptBase/"
           data-tag="前端,web,JavaScript"
           data-author="" >
            <span class="post-title" title="JavaScript基础学习笔记">JavaScript基础学习笔记</span>
            <span class="post-date" title="2020-04-05 12:33:14">2020/04/05</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/03/30/css/"
           data-tag="前端,web,CSS"
           data-author="" >
            <span class="post-title" title="CSS学习笔记">CSS学习笔记</span>
            <span class="post-date" title="2020-03-30 12:33:14">2020/03/30</span>
        </a>
        
        <a  class="全部文章 博客 valine "
           href="/2020/03/30/hexoValine/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="valine评论系统使用">valine评论系统使用</span>
            <span class="post-date" title="2020-03-30 12:16:01">2020/03/30</span>
        </a>
        
        <a  class="全部文章 笔记 Markdown "
           href="/2020/03/29/markdown/"
           data-tag="Markdown"
           data-author="" >
            <span class="post-title" title="Markdown语法大全">Markdown语法大全</span>
            <span class="post-date" title="2020-03-29 22:23:57">2020/03/29</span>
        </a>
        
        <a  class="全部文章 笔记 微信 "
           href="/2020/03/27/wechatpaper/"
           data-tag="微信"
           data-author="" >
            <span class="post-title" title="使用Markdown Here对微信公众号文章进行排版">使用Markdown Here对微信公众号文章进行排版</span>
            <span class="post-date" title="2020-03-27 22:36:35">2020/03/27</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/03/27/html/"
           data-tag="前端,web,HTML"
           data-author="" >
            <span class="post-title" title="HTML学习笔记">HTML学习笔记</span>
            <span class="post-date" title="2020-03-27 17:33:14">2020/03/27</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/03/24/chrometwo/"
           data-tag="前端,web"
           data-author="" >
            <span class="post-title" title="怎样拥有两个独立的Chrome">怎样拥有两个独立的Chrome</span>
            <span class="post-date" title="2020-03-24 10:33:14">2020/03/24</span>
        </a>
        
        <a  class="全部文章 笔记 前端 "
           href="/2020/03/24/webBase/"
           data-tag="前端,web"
           data-author="" >
            <span class="post-title" title="web入门基础知识">web入门基础知识</span>
            <span class="post-date" title="2020-03-24 10:33:14">2020/03/24</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2020/03/08/theme-beautify/"
           data-tag="主题,Hexo,Blog,博客"
           data-author="" >
            <span class="post-title" title="Sakura美化">Sakura美化</span>
            <span class="post-date" title="2020-03-08 21:09:24">2020/03/08</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2020/03/08/hexo-themes/"
           data-tag="Hexo,Blog,博客,Sakura"
           data-author="" >
            <span class="post-title" title="hexo博客如何更换主题，并且进行常用的配置">hexo博客如何更换主题，并且进行常用的配置</span>
            <span class="post-date" title="2020-03-08 13:31:00">2020/03/08</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2020/03/07/wechat-pic/"
           data-tag="Hexo,Blog,博客,微信防盗链"
           data-author="" >
            <span class="post-title" title="微信公众号图片防盗链破解">微信公众号图片防盗链破解</span>
            <span class="post-date" title="2020-03-07 23:50:00">2020/03/07</span>
        </a>
        
        <a  class="全部文章 "
           href="/2020/03/07/mindmaptest/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="测试思维导图">测试思维导图</span>
            <span class="post-date" title="2020-03-07 20:15:12">2020/03/07</span>
        </a>
        
        <a  class="全部文章 网络 HCNA "
           href="/2020/03/07/hcna-vlan/"
           data-tag="HCNA,VLAN"
           data-author="" >
            <span class="post-title" title="HCNA学习——VLAN配置">HCNA学习——VLAN配置</span>
            <span class="post-date" title="2020-03-07 00:54:04">2020/03/07</span>
        </a>
        
        <a  class="全部文章 笔记 五笔学习 "
           href="/2020/03/04/wubi/"
           data-tag="五笔"
           data-author="" >
            <span class="post-title" title="五笔学习笔记">五笔学习笔记</span>
            <span class="post-date" title="2020-03-04 23:33:49">2020/03/04</span>
        </a>
        
        <a  class="全部文章 网络 HCNA "
           href="/2020/03/02/switchbase/"
           data-tag="HCNA,交换机"
           data-author="" >
            <span class="post-title" title="HCNA学习——交换机基础配置">HCNA学习——交换机基础配置</span>
            <span class="post-date" title="2020-03-02 23:19:15">2020/03/02</span>
        </a>
        
        <a  class="全部文章 网络 基础 "
           href="/2020/02/29/networkmodule/"
           data-tag="HCNA"
           data-author="" >
            <span class="post-title" title="两种主要的网络参考模型">两种主要的网络参考模型</span>
            <span class="post-date" title="2020-02-29 19:53:49">2020/02/29</span>
        </a>
        
        <a  class="全部文章 网络 HCNA "
           href="/2020/02/24/eNSP-use/"
           data-tag="HCNA,eNSP"
           data-author="" >
            <span class="post-title" title="eNSP使用">eNSP使用</span>
            <span class="post-date" title="2020-02-24 21:39:54">2020/02/24</span>
        </a>
        
        <a  class="全部文章 网络 HCNA "
           href="/2020/02/22/eNSP-install/"
           data-tag="HCNA,eNSP"
           data-author="" >
            <span class="post-title" title="安装华为模拟器eNSP">安装华为模拟器eNSP</span>
            <span class="post-date" title="2020-02-22 21:39:56">2020/02/22</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2020/02/08/hexo-blog/"
           data-tag="Hexo,GitHub,Blog,博客"
           data-author="" >
            <span class="post-title" title="闲着也是闲着，不如搭个免费的博客玩玩">闲着也是闲着，不如搭个免费的博客玩玩</span>
            <span class="post-date" title="2020-02-08 21:34:47">2020/02/08</span>
        </a>
        
        <a  class="全部文章 转载 主题 "
           href="/2020/02/04/hexotheme/"
           data-tag="主题"
           data-author="" >
            <span class="post-title" title="都2020了，带你开发hexo主题">都2020了，带你开发hexo主题</span>
            <span class="post-date" title="2020-02-04 22:16:01">2020/02/04</span>
        </a>
        
        <a  class="全部文章 电脑 Win10 "
           href="/2019/11/07/WLU/"
           data-tag="Win10,Ubuntu"
           data-author="" >
            <span class="post-title" title="Win10启用其子系统Ubuntu并安装图形界面">Win10启用其子系统Ubuntu并安装图形界面</span>
            <span class="post-date" title="2019-11-07 10:21:17">2019/11/07</span>
        </a>
        
        <a  class="全部文章 笔记 转载 "
           href="/2019/10/31/English_ReadWay/"
           data-tag="考研,英语"
           data-author="" >
            <span class="post-title" title="唐迟阅读方法论">唐迟阅读方法论</span>
            <span class="post-date" title="2019-10-31 21:58:17">2019/10/31</span>
        </a>
        
        <a  class="全部文章 网络 "
           href="/2019/09/27/web-HCL8/"
           data-tag="eNSP,ACL,NAT"
           data-author="" >
            <span class="post-title" title="ACL+NAT配置">ACL+NAT配置</span>
            <span class="post-date" title="2019-09-27 07:58:17">2019/09/27</span>
        </a>
        
        <a  class="全部文章 网络 "
           href="/2019/09/27/web-HCL7/"
           data-tag="eNSP,OSPF"
           data-author="" >
            <span class="post-title" title="OSPF配置">OSPF配置</span>
            <span class="post-date" title="2019-09-27 07:58:04">2019/09/27</span>
        </a>
        
        <a  class="全部文章 资源 图集 "
           href="/2019/09/20/atlas1/"
           data-tag="逆水寒,图集"
           data-author="" >
            <span class="post-title" title="图集1-逆水寒">图集1-逆水寒</span>
            <span class="post-date" title="2019-09-20 20:15:12">2019/09/20</span>
        </a>
        
        <a  class="全部文章 网络 "
           href="/2019/09/19/web-HCL6/"
           data-tag="eNsp,RIP"
           data-author="" >
            <span class="post-title" title="RIP配置">RIP配置</span>
            <span class="post-date" title="2019-09-19 16:13:56">2019/09/19</span>
        </a>
        
        <a  class="全部文章 网络 "
           href="/2019/09/18/web-HCL4/"
           data-tag="HCL,华三"
           data-author="" >
            <span class="post-title" title="DHCP配置(续)--DHCP中继">DHCP配置(续)--DHCP中继</span>
            <span class="post-date" title="2019-09-18 16:14:16">2019/09/18</span>
        </a>
        
        <a  class="全部文章 网络 "
           href="/2019/09/18/web-HCL5/"
           data-tag="eNsp,STP"
           data-author="" >
            <span class="post-title" title="STP及VRRP配置">STP及VRRP配置</span>
            <span class="post-date" title="2019-09-18 16:13:56">2019/09/18</span>
        </a>
        
        <a  class="全部文章 阅读 "
           href="/2019/09/15/book1/"
           data-tag="悦读"
           data-author="" >
            <span class="post-title" title="书单1--平凡的世界">书单1--平凡的世界</span>
            <span class="post-date" title="2019-09-15 19:32:39">2019/09/15</span>
        </a>
        
        <a  class="全部文章 网络 华三 "
           href="/2019/09/12/web-HCL3/"
           data-tag="HCL,华三,实验,配置"
           data-author="" >
            <span class="post-title" title="HCL配置(三)–-DHCP配置">HCL配置(三)–-DHCP配置</span>
            <span class="post-date" title="2019-09-12 15:42:43">2019/09/12</span>
        </a>
        
        <a  class="全部文章 网络 华三 "
           href="/2019/09/11/web-HCL2/"
           data-tag="HCL,华三,实验,配置"
           data-author="" >
            <span class="post-title" title="HCL配置(二)--VLAN间通信">HCL配置(二)--VLAN间通信</span>
            <span class="post-date" title="2019-09-11 18:06:05">2019/09/11</span>
        </a>
        
        <a  class="全部文章 网络 华三 "
           href="/2019/09/09/web-HCL1/"
           data-tag="HCL,华三,实验,配置"
           data-author="" >
            <span class="post-title" title="HCL配置(一)--ping通及Telnet">HCL配置(一)--ping通及Telnet</span>
            <span class="post-date" title="2019-09-09 21:54:19">2019/09/09</span>
        </a>
        
        <a  class="全部文章 网络 华三 "
           href="/2019/09/09/web-HCL0/"
           data-tag="HCL,华三,安装"
           data-author="" >
            <span class="post-title" title="HCL的安装和使用">HCL的安装和使用</span>
            <span class="post-date" title="2019-09-09 21:34:37">2019/09/09</span>
        </a>
        
        <a  class="全部文章 编程 数据结构 "
           href="/2019/08/28/DataStructure1/"
           data-tag="数据结构,C/C++,技术"
           data-author="" >
            <span class="post-title" title="数据结构(1)-绪论">数据结构(1)-绪论</span>
            <span class="post-date" title="2019-08-28 22:12:47">2019/08/28</span>
        </a>
        
        <a  class="全部文章 编程 数据结构 "
           href="/2019/08/25/DataStructure0/"
           data-tag="数据结构,C/C++"
           data-author="" >
            <span class="post-title" title="数据结构(0)--预备知识">数据结构(0)--预备知识</span>
            <span class="post-date" title="2019-08-25 10:18:51">2019/08/25</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2019/08/25/mac-blog4/"
           data-tag="Hexo,GitHub,Blog,博客"
           data-author="" >
            <span class="post-title" title="Mac使用Hexo和GitHub搭建博客(4)--博客维护">Mac使用Hexo和GitHub搭建博客(4)--博客维护</span>
            <span class="post-date" title="2019-08-25 09:30:28">2019/08/25</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2019/08/25/mac-blog3/"
           data-tag="Hexo,GitHub,Blog,博客"
           data-author="" >
            <span class="post-title" title="Mac使用Hexo和GitHub搭建博客(3)--发布文章">Mac使用Hexo和GitHub搭建博客(3)--发布文章</span>
            <span class="post-date" title="2019-08-25 08:46:41">2019/08/25</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2019/08/24/mac-blog2/"
           data-tag="Hexo,GitHub,Blog,博客"
           data-author="" >
            <span class="post-title" title="Mac使用Hexo和GitHub搭建博客(2)--优化配置">Mac使用Hexo和GitHub搭建博客(2)--优化配置</span>
            <span class="post-date" title="2019-08-24 20:21:59">2019/08/24</span>
        </a>
        
        <a  class="全部文章 笔记 Hexo "
           href="/2019/08/24/mac-blog1/"
           data-tag="Hexo,GitHub,Blog,博客"
           data-author="" >
            <span class="post-title" title="Mac使用Hexo和GitHub搭建博客(1)--搭建博客">Mac使用Hexo和GitHub搭建博客(1)--搭建博客</span>
            <span class="post-date" title="2019-08-24 20:14:35">2019/08/24</span>
        </a>
        
        <a  class="全部文章 "
           href="/2019/08/08/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2019-08-08 19:32:39">2019/08/08</span>
        </a>
        
        <a  class="全部文章 转载 主题 "
           href="/2018/12/12/Hexo-Theme-Sakura/"
           data-tag="主题"
           data-author="" >
            <span class="post-title" title="Hexo-Theme-Sakura">Hexo-Theme-Sakura</span>
            <span class="post-date" title="2018-12-12 22:16:01">2018/12/12</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-hexotheme" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">都2020了，带你开发hexo主题</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="转载">转载</a> > 
            
            <a  data-rel="转载&lt;---&gt;主题">主题</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">主题</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-02-27 15:39:45'>2020-02-04 22:16</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:11.4k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-text">都2020了，带你开发hexo主题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">逛官网，读文档</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">本地新建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">选择模板引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">构建主题页面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">构建主题页面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">构建 hexo-theme-story 首页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">导入css、js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">引入图标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">完善首页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加分页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加文章详情页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">美化详情页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">解决日期和字数显示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加阅读次数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加valine评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加评论数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加上一篇和下一篇</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加文章标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">标签页空白？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">tag页模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">继续完善文章详情页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">hexo-helper-tocbot添加文章目录toc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">添加返回首页按钮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">文章归档单页面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">编写代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">代码解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">分类显示不同颜色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">首页侧边栏导航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">完善侧边栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">给侧边栏添加图标</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="都2020了带你开发hexo主题">都2020了，带你开发hexo主题</span></h1><h2><span id="前言">前言</span></h2><p>本系列文章是<a href="https://www.hojun.cn/" target="_blank" rel="noopener">博主hojun</a>日常业余折腾HEXO所总结的经验结果，不一定是最佳实践。了解更多请关注<a href="https://hexo.io/" target="_blank" rel="noopener">HEXO官方网站</a>。关于HEXO主题已经折腾过好多，当然拆腾的都是比较有条理的。<br>有关<a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" rel="noopener">HEXO主题Sakura</a>已经是去年（前年）的事了，第一次提交：honjun committed on 20 Dec 2018。偶尔怀旧下23333~，之前<a href="https://www.bilibili.com/video/av43856893" target="_blank" rel="noopener">关于Sakura主题开发也录了大部分的视频教程</a>，不过估计大部分人没有看，毕竟直接拿来用更香。这次准备出文章教程，顺带练习下我那半吊子的五笔打字。</p>
<h2><span id="准备工作">准备工作</span></h2><p>回归到正文，先总结下该教程的计划，首先html页面不准备写，去html5up上找个模版，众所周知（不知道的现在也知道了）这个网站已经出了好几个HEXO博客，包括Phantom、Massively、strata、simplyspoke、Editorial(还没做完，看完教程的可以用这个模版练练手，给它PR完整)。<br>最后，选定story就刚刚决定的。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66Om7cna03iaBqicXeIzmWPOaKGiaM3ibgXH4EicsMTm2weh3DGh5UomicyRGQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="逛官网读文档">逛官网，读文档</span></h2><p>首先来到hexo官网，你要折腾某个东西的时候，它的官网是一定要逛的。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66oV6oiaicmjefXcWnOGoc2TYUJmbk0WbicOe1yWiaqlxLCRek59czgtPdHA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>找到自定义主题我们可以看到：（请务必认真看完再往后阅读）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66GdMpz4j8yISL1X59bYAvgtF9NIP5Z5sxPXfqsGqkf11BYe7VFXR6gA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="本地新建">本地新建</span></h2><p>假设你已经看完上图的文档了，开始开发主题了。首先还是要新建一个hexo博客，在卡在这一步的时候就可以Ctrl+C停止了。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66OvS11hXiaviafktnyXhibLic2biaQqGe8o9JjUnK3LXk8iarBly92HrU4Sog/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>用subline打开新建好的博客(Story)，可以看到在themes目录下空空如也，反正我们准备自己开发一个，空的正好。<br>这个时候就要想到文档里的目录结构了：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66G88F2LicWvRoHpZu2CbV45I3Pef3iciaSsZl2WuuBBXulAzaNkpANAEHA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>新建如下：（当然要给主题建个目录，这里就叫story好了）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66pjFziaWd6B5ZMTicCk7dGF0qyzPyBI3vIEw4bCSUMU8q4N2Z3pSiaDVIg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>建好这后记得上级目录的_config.yml里面修改配置：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66bN6mIsVwce2oHiaRf4dBFxj2dnl55I4wLerUh7fcv1u8gxFUGOEonHg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>有好奇的小伙伴可以试着运行看看：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u663e95aXFkkoL8QcX6WuB1DrFZ7ku1We57Nf2WrgE5EdKX06BEcR3DVg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>不要担心，这是我们没有用npm安装依赖，因为上一步的时候直接ctrl+c跳过了。使用npm i命令安装。（有切换过淘宝镜像的可以使用cnpm i安装，npm安装淘宝镜像自行百度）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66ohuQ9hm51klBKjraLD3rtNpZCtWIwxQx4reIMJ33Xic2CQX93psF8bQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>可以看到安装成功后使用hexo s发布真的能跑起来，不过当我们访问的时候就会报No layout: index.html这个错。简单理解下它意思，没有layout(布局，或者说模版):index.html。</p>
<h2><span id="选择模板引擎">选择模板引擎</span></h2><p>那么我们就应该建一个layout来展示index.html。不过在建之前要先确定用哪种模版引擎，官方文档如是说到：Hexo 内建 Swig 模板引擎，您可以另外安装插件来获得 EJS、Haml 或 Jade 支持。这里为了简单，学习成本低，采用了ejs模板引擎。文档也说的很明白了，用ejs我们还要安装。不过看了下package.json，hexo4.0已经集成了hexo-renderer-ejs，所以用ejs也不用安装了，直接用就是。（Jade等还是要另外安装插件的）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwetbsqfNUzTRqGfVgsF6u66mXX9Mwh95fibkh8fVjhY6GEn997PmJuFiceptKBNY34bjoE7DqXOSNCw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="构建主题页面">构建主题页面</span></h2><p>模板引擎选好之后，就可以新建模版页面了。在新建前要好好看下官方文档的模版说明。看完之后可以自己构思下怎么做<br>t</p>
<p>h</p>
<p>i</p>
<p>n</p>
<p>k</p>
<p>i</p>
<p>n</p>
<p>g</p>
<p>想不出来的可以参考下别人或者官方的主题是怎么做的。</p>
<h2><span id="构建主题页面">构建主题页面</span></h2><p>我们在阅读文档模版后，可以知道如下信息：</p>
<blockquote>
<p>模板决定了网站内容的呈现方式，每个主题至少都应包含一个 index 模板，以下是各页面相对应的模板名称：</p>
</blockquote>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SWIw5MOMKibqyTWvib2r8nmRzxVUlia4tkAX0LaIh0ryElOHm0QpPQfSWQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p>布局（Layout），如果页面结构类似，例如两个模板都有页首（Header）和页脚（Footer），您可考虑通过「布局」让两个模板共享相同的结构。一个布局文件必须要能显示 body 变量的内容，如此一来模板的内容才会被显示，举例来说：</p>
</blockquote>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5Sk9sUe2WBzLyiaakS1uYPx9SCFagCldH27mnjdtm8pN2d7BH6mGBCjDA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p>每个模板都默认使用 layout 布局，您可在 front-matter 指定其他布局，或是设为 false 来关闭布局功能，您甚至可在布局中再使用其他布局来建立嵌套布局。</p>
</blockquote>
<p>关于front-matter可以查下以下文档了解更多front-matter</p>
<pre><code>Front-matter 是文件最上方以 --- 分隔的区域，用于指定个别文件的变量，举例来说：

---
title: Hello World
date: 2013/7/13 20:46:25
---</code></pre><p>根据以上文档，我们就可以建模版页面了。其中<code>每个主题至少都应包含一个 index 模板</code>和<code>每个模板都默认使用 layout 布局</code>，所以我们先建个layout.ejs和index.ejs<br>index.ejs内容如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SvymxaHOCcRbjMIDJlBicxS4HD4CcbQtCyMplPmSk1MjUXTflH48JjLw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>layout.ejs内容如下：其中<code>&lt;%- body %&gt;</code>文档中并没有做出详细解释，可以理解body为页面内容。首页就是引入index.ejs，归档页就是引入archive.ejs这样。至于<code>&lt;%- %&gt;</code>的语法可以去参考ejs文档(看不懂的，就是没好好看文档。)<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SwVwcXMHqYnekVEeVGc5P9UeDAtBemVUInh7tNeDib73BcRoHibny3fHg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>hexo s 生成运行如下，可以看到我们的模版页编译成功了。（生成了layout的头部和尾部，并成功显示出了index中的内容）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5S0gYAbhXYot3El5kStqiaDKNhThvdEleQIZYQfk0JJu8aehIpqTDpP1Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>好了，主题页面就是这样构建的，接下来开始把从html5up上下载的story写成我们的主题。</p>
<h2><span id="构建-hexo-theme-story-首页">构建 hexo-theme-story 首页</span></h2><p>解压得到：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SqCEFd5j65Rya8kRXcORicBEF2ps2BoHgBMxWBTGJiaS0MRwKk4h9zmSA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>在subline中打开其index页面如下<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SeH34S9qfLy6Nuqd8zR6mZr5cIo1YIJvWHpS8ZB5KqqgnJPgbwTsLFA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>我们要拆解这个页面，从简单的header和footer开始，将其代码收缩，可以就大致分出header、body、和footer了。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SfSB4TVCg8rcSnXoeVMH7Zic8l7l8cG5pGNyD0Hib6Ffr0NpLPUIhLibEA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>再看官方文档中关于局部模版的说明，我想你已经学会怎么拆分了<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SWCtMjPzqFUX8ib1F7qNIicQGmKlBRA1cwiaWev2mhYYAmo6k26PRiat7IQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>文件夹这样建立：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5Sx7QnNuBpOS9Q00ZrCHuKiciajJ7tiaBXicIe0elEiaqqGKagnMl65bjrKLg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>稍难点的layout这样写：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5ScjSRfULCwiamo2YGtyqISo9nypQSxsorgamg2FfMBE0tfb4vNxegsOQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>但是这样拆分还是有些问题，比如有部分的footer内容在index中，暂时把这部分代码直接剪切到footer.ejs中<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SGXsMv7LEicxS9ibkrzjO0ibHbwzubEpkBdkU48W3zS6hmKZGoVgBvxrgw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>运行后页面如下所示：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SiaX2RoPwvhmewK3uYQCwWPhxRSaGYU1wYltEFxtEdAJO9dZ0R7XNzGg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>页面这种显示的原因是我们没有导入js、css。</p>
<h2><span id="导入css-js">导入css、js</span></h2><blockquote>
<p>source<br>资源文件夹，除了模板以外的 Asset，例如 CSS、JavaScript 文件等，都应该放在这个文件夹中。文件或文件夹开头名称为 _（下划线线）或隐藏的文件会被忽略。<br>如果文件可以被渲染的话，会经过解析然后储存到 public 文件夹，否则会直接拷贝到 public 文件夹。</p>
</blockquote>
<p>所以我们的 CSS、JavaScript、Images 文件要放在source文件夹中，怎么放我就不赘述了。说说怎么引入。可以hexo g先生成public文件夹，看一下目录结构：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SaMwJIVvptKmUdkVrSGTchrr4UrJBAK5BlUD9q0UHRiaqhjicsBH97GWA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>可以看到对于最外层的index.html来说，引入可以使用更通用的相对路径写法<code>./css/xxx.css</code>(./表示当前目录下)，但是这种写法放在hello-world下的文章页index.html就不适用了。必需使用绝对路径写法<code>/css/</code>（/表示从根目录开始）所以可以使用如下写法引入：</p>
<pre><code class="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/main.css&quot; /&gt;
&lt;noscript&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/noscript.css&quot; /&gt;&lt;/noscript&gt;</code></pre>
<p>但是这种写法也有一个问题，若你的博客不是放在网站根目录也是不生效的。所以hexo辅助函数css()，js()就有意义了。</p>
<pre><code class="ejs">&lt;%- css(path, ...) %&gt;
&lt;%- js(path, ...) %&gt;</code></pre>
<p>最终改写成如下：</p>
<pre><code class="html">&lt;head&gt;
  &lt;title&gt;Story by HTML5 UP&lt;/title&gt;
  &lt;meta charset=&quot;utf-8&quot; /&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no&quot; /&gt;
  &lt;%- css([&#39;/css/main.css&#39;, &#39;/css/noscript.css&#39;]) %&gt;
&lt;/head&gt;</code></pre>
<p>js雷同。<br>把layout中的注释改成html注释，hexo s 运行预览下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwf5qXudsPYOVrfldHecZK5SgDlWE1qicd3p4V3sDTbO5iccyWXeRWtmJlqP7LrCmSLc74WkRtdBWEyg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>可以看到页面已经正常了，图片路径自行修改下就可以呈现。<br>从这教成开始代码开始变多起来，我把代码同步上传到github仓库和百度云上，~关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story002获取。</p>
<p>我们已经搭建好了首页，上篇教程已经引入了css和js，接下来还是引入网站上的一些图标。</p>
<h2><span id="引入图标">引入图标</span></h2><p>上篇教程自行引入图片其实是不用的，因为我们建立的图片文件夹正好是images，和原来的html5up模板刚好一致。让我们看下代码：</p>
<pre><code class="html">&lt;div class=&quot;image&quot;&gt;
  &lt;img src=&quot;images/banner.jpg&quot; alt=&quot;&quot; /&gt;
&lt;/div&gt;</code></pre>
<p>但是也和之前的问题一样，用这种的话一定要把网站放到根目录访问，所以可以用到hexo的辅助函数“url_for”，<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UcgsHl1micMic4J5qjEUkK1iaibMknDTp7vcErJ5ia6oX3ibpDZ9PhsK5IV3Rw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>img代码改成如下即可：</p>
<pre><code class="html">&lt;div class=&quot;image&quot;&gt;
  &lt;img src=&quot;&lt;%- url_for(&#39;/images/banner.jpg&#39;) %&gt;&quot; alt=&quot;&quot; /&gt;
&lt;/div&gt;</code></pre>
<p>接下来回到正题，引入图标，首先确定下这个模板的图标是字体图标，字体文件在webfonts文件夹下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UcOUVGUr4bBVjSmwPaCaqIEg2UQTEic7rvzcHVPB0SVdgjfLe2l8ewI4A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>为了方便，就直接把这个文件夹复制到主题source下，hexo s 后就可以看到图标已经呈现出来了<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1Uc998BZqsUGTuWjjOFgkHrSzJDYmZJUOdCviapiahxmFsvgCSbrXCicrG8w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="完善首页">完善首页</span></h2><p>开始着手完善首页，首先删掉一些不需要的元素<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1Uc6lgWoR3YEgTWic9wcAXRHaTL3kKeicrdNoJ0dh8icmwYOyg86CwKSwpYw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>在index.ejs中的这个Five、Six、Seven分别是图集、图标、留言部分，首页不需要这些，我们给它删掉。<br>接下来看剩下的代码：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UcKYC87nPgfNmBFh27RdG7loLhTQ9c7V5nRfbzdsJ1A0XREpZ0tspnOA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>one是最上面的那个，图片占一半那种。自成一派先不管。two、three、four则是下面的部分。我们可以给它看做是文章列表。可以看出这几个的元素都一致，就是three的class是orient-left，所以可以删除多余的three、four后网页显示如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1Ucw38Xv5s12y9MuffskjV80cAIHtXqrotYAKOib8UGaCFGSn5p87LRdnQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>接下来考虑往首页填充内容了。不过在这之前还有很多东西要讲下（后悔用文章教程了，出视频的话会快很多55555）</p>
<p>首先，分析下我们首页或者说文章需要哪些东西。标题、封面图、简介还有一些给我们的如分类、标签、时间等等。这些东西都要我们自己建吗？hexo给了我们一个Scaffold文件夹，在官方文档的写作里面有说明：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UccgLMkg9uyDALAwFmiaRoickYyJhkSW0Q4tw8TSMlnyRHiazSsXMyiagFdA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>打开scaffolds&gt;post.md(就是新建文章的模板)可以看到如下内容：（顺带再提，这个在hexo中叫Front-matter）</p>
<pre><code>---
title: {{ title }}
date: {{ date }}
tags:
---</code></pre><p>可以看到hexo给文章模板预置了title、date、tags，但是我们还需要封面图、简介、分类等等，我们直接修改post.md就可以让hexo生成我们想要的模板。修改的模板如下：(keywords是关键字，对网站seo有好处)</p>
<pre><code>---
title: {{ title }}
date: {{ date }}
tags:
categories:
keywords:
description:
photos:
---</code></pre><p>这里为了更方便我们可以给一些项预设初值。比如分类和封面图。</p>
<pre><code>---
title: {{ title }}
date: {{ date }}
tags:
categories: 技术
keywords:
description:
photos: /images/pic01.jpg
---</code></pre><p>好了，接下来可以使用 hexo n “你想要的文章名” 来创建文章了。这里我们创建了八篇文章：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UcKicRrOicLddofPg4GwQ2FCShrY0dMZsRWUV2SRy7JWicDU7zyUFStZJqQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>记住把第一个hello world.md删掉，因为这个是hexo init生成的，在它的Front-matter中没有一些项，不删除可能会导致一些错误。<br>好了，测试文章也有了，现在我们要去给首页填充起来。现在我们再来看index.ejs中的one和two,发现one其实和three一样是orient-left，不过多了个fullscreen的css，所以可以只剩下一个two。修改后two的代码如下：</p>
<pre><code class="ejs">&lt;!-- Two --&gt;
&lt;% page.posts.each(function(post){ %&gt;
  &lt;section class=&quot;spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in&quot;&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;h2&gt;&lt;%= post.title %&gt;&lt;/h2&gt;
      &lt;p&gt;&lt;%= post.description %&gt;&lt;/p&gt;
      &lt;ul class=&quot;actions stacked&quot;&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot; class=&quot;button&quot;&gt;Learn More&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&quot;image&quot;&gt;
      &lt;img src=&quot;&lt;%= post.photos %&gt;&quot; alt=&quot;&quot; /&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;% }) %&gt;</code></pre>
<p>其中each/forEach函数（和js中的each差不多）参考model.js和query.js，post参考变量。<img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1Ucfglhib2hyhRCJO30N1QqYSrWhEicUibclib2kiaiayFXGny7OFQJvhIg8czQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>hexo s后生成如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1Uc4JrZLIxA2w0Mz3p3eEW2UL4czx8HbzcianoZmg0tKn8iceFicc7GYF78g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>怎样将它弄成之前那种左右交替呢？最简单的可以使用css控制：</p>
<pre><code class="css">.spotlight.style1:nth-child(even) {
  -moz-flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
  -ms-flex-direction: row-reverse;
  flex-direction: row-reverse;
}

.spotlight.style1:first-child{
    min-height: 100vh;
}

.spotlight.style1:first-child .image{
    width: 50%;
}</code></pre>
<p>稍微解释一下这个css,</p>
<blockquote>
<p>nth-child(n) 选择器匹配属于其父元素的第 N 个子元素，不论元素的类型。<br>odd 和 even 是可用于匹配下标是奇数或偶数的子元素的关键词（第一个子元素的下标是 1）。<br>使用公式 (an + b)。描述：表示周期的长度，n 是计数器（从 0 开始），b 是偏移值。</p>
</blockquote>
<p>就是匹配.spotlight.style1这俩class的元素。even表示偶数，就表示偶数项为row-reverse（设置</p>
<p>元素内弹性盒元素的方向为相反的顺序，参考flex布局），奇数项为row。所以就能实现左右左右的效果。而first-child则表示第一项，100vh表示 “相对于视口的高度，视口被均分为100单位的vh” 即铺满屏幕。最终效果如下<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdBKiamAvULZUXIKRc4dc1UceFWfeic0Yx9WWm4AJBwXszuhBNR3phg3ljyQJ8lhjuFlcQzJfA8YvYw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story003获取。</p>
<h2><span id="添加分页">添加分页</span></h2><p>上篇教程已经把首页内容给填充上去了，接下来继续给首页添加上分页。在文档辅助函数里有关如下<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsB4DIW2Ox0ssRjTlSFkOMT6oWiaiaAv0bt5INc3zcDVR9DPQJCzIiao7Zug/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>直接复制这段代码到index.ejs最下面:</p>
<pre><code class="ejs">&lt;div class=&quot;paginator&quot;&gt;
  &lt;%- paginator({
    prev_text: &#39;&lt;i class=&quot;fa fa-angle-left&quot;&gt;&lt;/i&gt;&#39;,
    next_text: &#39;&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;&#39;,
    escape: false
  }) %&gt;
&lt;/div&gt;</code></pre>
<p>为了看到效果将根目录下config中的per_page改为三，表示每页三篇文章，这样我们八篇文章就会有三页了</p>
<pre><code class="yml">index_generator:
  path: &#39;&#39;
  per_page: 3
  order_by: -date</code></pre>
<p>hexo s后的效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsB1pRibaPxO7L3QCClibX5vlBNdiboD0xVZCSeFUibCbnYaFxJgLTvrn3Yeg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>样式有点不能忍受，用f12工具查看其html代码如下：</p>
<pre><code class="html">&lt;div class=&quot;paginator&quot;&gt;
  &lt;span class=&quot;page-number current&quot;&gt;1&lt;/span&gt;
  &lt;a class=&quot;page-number&quot; href=&quot;/page/2/&quot;&gt;2&lt;/a&gt;
  &lt;a class=&quot;page-number&quot; href=&quot;/page/3/&quot;&gt;3&lt;/a&gt;
  &lt;a class=&quot;extend next&quot; rel=&quot;next&quot; href=&quot;/page/2/&quot;&gt;&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;&lt;/a&gt;
&lt;/div&gt;</code></pre>
<p>为了方便直接在index.ejs中写css如下：(最终效果如下图)</p>
<pre><code class="css">&lt;style&gt;
  .paginator {
    margin-top: 2em;
    width: 100%;
    text-align: center;
  }
  .paginator .page-number{
    display: inline-block;
    border-radius: 50%;
    font-size: 0.8em;
    font-weight: 600;
    height: 2em;
    line-height: 2em;
    margin: 0 0.125em;
    min-width: 2em;
    padding: 0 0.5em;
    text-decoration: none;
  }
  .paginator .current{
    box-shadow: inset 0 0 0 1px #47D3E5;
    color: #47D3E5 !important;
  }
&lt;/style&gt;</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsBib2En7LoxaNLZib7zoama77Ra2dGmPAZ5qjGqgX2MBtwvTNcnMjRH8ZA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="添加文章详情页">添加文章详情页</span></h2><p>首先在_partial下新建article.ejs，里面代码如下：（story居然没有文章页的模板233，果然好模板都被人用了）</p>
<pre><code class="ejs">&lt;article&gt;
  &lt;%- page.content %&gt;
&lt;/article&gt;</code></pre>
<p>然后在index.ejs中的a标签中加入文章超链接：</p>
<pre><code class="html">&lt;div class=&quot;content&quot;&gt;
  &lt;h2&gt;&lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot;&gt;&lt;%= post.title %&gt;&lt;/a&gt;&lt;/h2&gt;
  &lt;p&gt;&lt;%= post.description %&gt;&lt;/p&gt;
  &lt;ul class=&quot;actions stacked&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot; class=&quot;button&quot;&gt;Learn More&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</code></pre>
<p>那么怎样让文章页能更根据我们的article.ejs页生成呢？回到一开始的模板介绍：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsBlxXAWiaptZ6r0k75kmGTdibloPXShvmBs24S4QJY6QqTibwnCYjUicsWRQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>按照hexo的文档来，post是用来显示文章的，我们在layout目录下新建这几个ejs(post、page、archive、category、tag），然后暂且把article中的内容复制到post.ejs下，hexo s预览下效果：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsBUsJG1bsJGZ6RWAY5l3xAn5FU65Qv1ibVgc4RkeJJUxIz0yHP0rf0kYg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>已经是能渲染出来了，但是md里面还没有内容，这里我直接把这篇文章的md复制到测试的md中</p>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfWibEjPrMjibCxiaaSRAkeZsBw2CUJoicO0tnrSCiaIMAiciaL3axz3YOEzC4lXeWiaZA1Pc3y1SKtJhoHwg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>样式又差不行不行，这个留到下篇教程再美化，现在把之前留下的问题解决，乍一看article.ejs是无用武之地了，不过考虑到page这个单页面的渲染和post差不多一致，所以我们要把文章部分抽离到article.ejs中，这样就可以复用代码了。抽离在教程二中就已经讲到，用局部模版（Partial），代码如下：</p>
<pre><code class="ejs">&lt;%- partial(&#39;_partial/article&#39;, {post: page}) %&gt;</code></pre>
<p>后面的{post: page}表示把page变量存到post中传递给了article，所以article中的代码就要改为：</p>
<pre><code class="ejs">&lt;article&gt;
  &lt;%- post.content %&gt;
&lt;/article&gt;</code></pre>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story004获取。</p>
<h2><span id="美化详情页">美化详情页</span></h2><p>上篇文章已经可以跳转到文章详情页了，这篇教程先来美化下详情页的样式。<br>首先打开我们从html5up上下载的story网页，浏览器上打开index-demo.html那个，在演示完图标之后有“Additional Elements”<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxFhRgVCjEswJPKNLKHxMDXZibnV3H83jJ9Qw3PFZ7DGRb91eWiaV9e1ng/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>可以看到这部分用来当文章详情页的容器挺合适。修改代码如下：</p>
<pre><code class="ejs">&lt;article class=&quot;wrapper style1 align-left&quot;&gt;
  &lt;div class=&quot;inner&quot;&gt;
    &lt;%- post.content %&gt;
  &lt;/div&gt;
&lt;/article&gt;</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxVDQ0sPzjNyZnxEmebicjqlpV3fALwxs1Zw6jgMk2KmLcULOVcAW4nMg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>可以看出这个页面还缺一些必要的内容，如标题。添加后如下：</p>
<pre><code>&lt;article class=&quot;wrapper style1 align-left&quot;&gt;
  &lt;div class=&quot;inner&quot;&gt;
    &lt;div class=&quot;header&quot;&gt;
      &lt;h1 class=&quot;title&quot;&gt;&lt;%- post.title %&gt;&lt;/h1&gt;
      &lt;div&gt;
        &lt;span&gt;日期：&lt;%- post.date %&gt;&lt;/span&gt;
        &lt;span&gt;字数：&lt;%- post.count %&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;%- post.content %&gt;
  &lt;/div&gt;
&lt;/article&gt;</code></pre><p>main.css</p>
<pre><code class="css">/* 添加的css项 */
.title {
  font-size: 3rem;
  font-weight: 700;
}
article h2 {
  font-size: 1.7rem;
}</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxoLuAGH1A9hOHMgDla6ThU5FeicjGE5zAgyRmwlkGBDJAun1TxZyp2Wg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="解决日期和字数显示">解决日期和字数显示</span></h2><p>可以看到网页上的日期显示的是一串数字，其实这个是日期的时间戳</p>
<blockquote>
<p>百度百科：时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总毫秒数。通俗的讲， 时间戳是一份能够表示一份数据在一个特定时间点已经存在的完整的可验证的数据。它的提出主要是为用户提供一份电子证据， 以证明用户的某些数据的产生时间。在实际应用上， 它可以使用在包括电子商务、 金融活动的各个方面， 尤其可以用来支撑公开密钥基础设施的 “不可否认” 服务。</p>
</blockquote>
<p>来到hexo官网，搜索date:<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxqn31wDXGndwd5HriaennYkJuYpNk26H1NylfcSfYSgelOkH31I2qSvw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxS9VZiaiaXoh27CTs5mqVjXDzMNPcKEak5FqOFUWCz96akXLBwpBZZtHw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>修改成下图：</p>
<pre><code>&lt;span&gt;日期：&lt;%- date(post.date, &#39;YYYY/M/D&#39;) %&gt;&lt;/span&gt;</code></pre><p>页面显示如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxgNzOKC4z3OhMKjrH2WvygpfIEaQibZ1icPIQ6w961ZfIxribTp5zblKjg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>和官方例子不一样，应该是文档错了。那如果要文档里那种显示该如何修改代码呢？接下来部分是干货，会举一反三的话能自己解决很多问题。分析下，date()这个函数归类在辅助函数helper里。所以先去找有没有hexo-helper-date的包，（在node_modules里找）。没找到，因为这个官方的辅助函数，试着在hexo-cli和hexo里面找。在<a href="mailto:node_modules_hexo@4.2.0">node_modules_hexo@4.2.0</a>@hexo\lib\plugins\helper\中找到我们要的date.js这个文件。打开它可以看到<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxys1eebZqlo9XXITWqXFQn4MefMibuLjhrunUWVUNT5icjRgghkVAtAwA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img">它都原封不动的调用了 Moment.js，所以我们在hexo文档中直接点击date说明上面那个 Moment.js 的超链接去看 Moment.js 文档。找到了如下表：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwx9D8t7Micp6CKI8Ir1Fxb0K18nHYBjHS6Z4ZQv1UZ0Vic2stYuQchZPNA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>那就简单了，改成自己想要的日期显示类型就行。参考如下：</p>
<pre><code>&lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD, YYYY, dddd &#39;) %&gt;&lt;/span&gt;</code></pre><p>接下来改成中文月份，只要在根目录的config下把language改为zh-cn即可。(为啥知道，看文档和源)</p>
<p>日期解决后就要来看下字数，现我们已经知道文章内容在post.contant里。用post.content.length这种写法会把html标签也算进去，hexo给我们提供了strip_html字符串处理函数：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxs26O7VtmOfDYTjIPx5HNWfnjHh0GeKxZiaeWIibYUsrSFEdmbZcNlE4g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>所以只要strip_html(post.content).length这种写法就好了。效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVweTW3WEhquqOHoCGkma1zwxiaLFBMibLdlqXlNBqwy6icpeybNj9MX2CpBsOHRGxtEy9BMib8fDEyvaLw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story005获取。</p>
<h2><span id="添加阅读次数">添加阅读次数</span></h2><p>阅读次数采用不蒜子来实现</p>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdqzAlcDm1Dw5YTtZtiax0MqvxyuULKDuaVglAD99ic9k06PlBvFrQ1FjwKZEGMX8qZm96NTQJICvqw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>复制这两行代码，引入js的那段放到footer.ejs中，span的那段放在文章详情页中。</p>
<pre><code>&lt;article class=&quot;wrapper style1 align-left&quot;&gt;
  &lt;div class=&quot;inner&quot;&gt;
    &lt;div class=&quot;header&quot;&gt;
      &lt;h1 class=&quot;title&quot;&gt;&lt;%- post.title %&gt;&lt;/h1&gt;
      &lt;div class=&quot;stuff&quot;&gt;
        &lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD, YYYY&#39;) %&gt;&lt;/span&gt;
        &lt;span&gt;字数  &lt;%- strip_html(post.content).length %&gt;&lt;/span&gt;
        &lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;阅读 &lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;%- post.content %&gt;
  &lt;/div&gt;
&lt;/article&gt;</code></pre><h2><span id="添加valine评论">添加valine评论</span></h2><p>前往valine.js.org官网，查看文档：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"><br>关于valine和leandcloud一些配置项请参考另一篇文章《hexo评论系统之valine快速使用》，这里就不赘述了。假设你已经有了API_ID和API_Key了，我们先把valine官方文档快速开始中的html片段复制到article.ejs(即文章详情页中)，因为我们是在页面body中了，所以要把head和body删掉，修改后代码如下:</p>
<pre><code class="ejs">&lt;!-- valine评论 --&gt;
&lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;
&lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  new Valine({
    el: &#39;#vcomments&#39;,
    appId: &#39;&lt;API_ID&gt;&#39;,
    appKey: &#39;&lt;API_Key&gt;&#39;
  })
&lt;/script&gt;</code></pre>
<p>接下来可以把API_ID和API_Key填入就可以使用了，不过这是开发主题，所以最好要把这些变量在配置里面赋值。在主题下的config里面输入如下：</p>
<pre><code class="yml">valine:
  API_ID: 这里填你的API_ID
  API_Key: 这里填你的API_Key</code></pre>
<p>接着修改valine部分代码如下：</p>
<pre><code class="ejs">&lt;!-- valine评论 --&gt;
&lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;
&lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  new Valine({
    el: &#39;#vcomments&#39;,
    appId: &#39;&lt;%- theme.valine.API_ID %&gt;&#39;,
    appKey: &#39;&lt;%- theme.valine.API_Key %&gt;&#39;
  })
&lt;/script&gt;</code></pre>
<p>网页上显示如下:<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdqzAlcDm1Dw5YTtZtiax0MqmNtUHgicl4DgYzHglBQ3y0Tya3lPv76m1icaBo0jRAXAweDCgsOsbX6Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>valine评论的样式乱了，使用f12工具发现main.css把input元素设为了块级元素（还有其他一些问题），所以在css中加入</p>
<pre><code class="css">#vcomments input {
  display: inline-block;
}

#vcomments button {
  height: 2.25rem;
}</code></pre>
<h2><span id="添加评论数">添加评论数</span></h2><p>因为在valine的显示中是有评论数这个选项的。但文档里面并没有给我们提供这个接口，所以我们可以自行调用valine的函数来获取。代码如下:（看源码无所不能）</p>
<pre><code class="ejs">&lt;article class=&quot;wrapper style1 align-left&quot;&gt;
  &lt;div class=&quot;inner&quot;&gt;
    &lt;div class=&quot;header&quot;&gt;
      &lt;h1 class=&quot;title&quot;&gt;&lt;%- post.title %&gt;&lt;/h1&gt;
      &lt;div class=&quot;stuff&quot;&gt;
        &lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD, YYYY&#39;) %&gt;&lt;/span&gt;
        &lt;span&gt;字数 &lt;%- strip_html(post.content).length %&gt;&lt;/span&gt;
        &lt;span&gt;评论 &lt;span id=&quot;valine-count&quot;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;阅读 &lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;%- post.content %&gt;
    &lt;!-- valine评论 --&gt;
    &lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;
    &lt;script src=&#39;//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js&#39;&gt;&lt;/script&gt;
    &lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
    &lt;script&gt;
      var valine = new Valine();
      valine.init({
        el: &#39;#vcomments&#39;,
        appId: &#39;&lt;%- theme.valine.API_ID %&gt;&#39;,
        appKey: &#39;&lt;%- theme.valine.API_Key %&gt;&#39;
      })
      valine.Q(location.pathname.replace(/index\.html?$/, &#39;&#39;)).count().then(num =&gt; {
        document.getElementById(&quot;valine-count&quot;).innerHTML = num;
      })
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/article&gt;</code></pre>
<p>效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdqzAlcDm1Dw5YTtZtiax0MqWYeKc1qke6fLJrDhrhnhib97ClDKrl8TiaL8hMpwcCdZbKC9EibezDh6Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="添加上一篇和下一篇">添加上一篇和下一篇</span></h2><p>这里直接使用了自己当前主题的代码，这个功能实现起来只要知道hexo官方文档中page变量就行：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdqzAlcDm1Dw5YTtZtiax0MqUg9QUQEI1kFdcgNrCAp3ydWlPYSnleHs71G7zIZqjDoFpDddibGQVNw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>代码和效果如下:</p>
<pre><code class="ejs">&lt;div class=&quot;post-nav&quot;&gt;
    &lt;% if (post.prev){ %&gt;
    &lt;div class=&quot;post-nav-prev post-nav-item&quot;&gt;
        &lt;a href=&quot;&lt;%- url_for(post.prev.path) %&gt;&quot; &gt;&lt;%= post.prev.title %&gt;&lt;i class=&quot;fa fa-chevron-left&quot;&gt;&lt;/i&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;% } %&gt;
    &lt;% if (post.next){ %&gt;
    &lt;div class=&quot;post-nav-next post-nav-item&quot;&gt;
        &lt;a href=&quot;&lt;%- url_for(post.next.path) %&gt;&quot; &gt;&lt;%= post.next.title %&gt;&lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;% } %&gt;
&lt;/div&gt;</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdqzAlcDm1Dw5YTtZtiax0MqmNtUHgicl4DgYzHglBQ3y0Tya3lPv76m1icaBo0jRAXAweDCgsOsbX6Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story006获取。</p>
<h2><span id="添加文章标签">添加文章标签</span></h2><p>打算在hr的上边添加文章的标签，用f2开发者工具调试如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQCQh1NewX7O3EEEic2ncQaevianKrsEHjibuT7v5jqXfpMoKAv2vr3YLqA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>先到css的8551行把margin调为0：</p>
<pre><code class="css">hr {
    margin: 0 0 0 0;
}</code></pre>
<p>接着在hr上面添加html元素，先写好再调样式：</p>
<pre><code class="html">&lt;div class=&quot;tags&quot;&gt;
  &lt;span&gt;标签：&lt;/span&gt;
  &lt;a href=&quot;&quot; class=&quot;tag&quot;&gt;XX标签&lt;/a&gt;
  &lt;a href=&quot;&quot; class=&quot;tag&quot;&gt;XX标签&lt;/a&gt;
&lt;/div&gt;
</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQ9PsAPJEYWzDrfdDA97QETyUD3F2qagLO1WCpeqxqckSFuAqvf7gL3A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>再写css，可以自行添加一些交互效果，自由发挥：</p>
<pre><code class="css">.tags a {
  font-size: 15px;
  padding: 3px 5px;
  text-decoration: none;
}

.tags a:hover{
  color: #fff;
  background: #333;
}</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQMhNkQThDWZjWhicdloYhBMFES4M8DrJ60ic0MzySzVdhNriap9oVcq6PQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>当然现在的标签不是文章设置的标签，来到官网可以看到：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQ7QfxDCiaTEy58wpgUSevl8lQYiaM7tGTTNXyicnoaTtlACXlBHXciattVA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>所以只要把page.tags循环输出即可。</p>
<pre><code class="ejs">&lt;div class=&quot;tags&quot;&gt;
  &lt;span&gt;标签：&lt;/span&gt;
  &lt;% post.tags.each(function(tag){%&gt;
    &lt;a href=&quot;&quot; class=&quot;tag&quot;&gt;{{ tag.name }}&lt;/a&gt;
  &lt;% }) %&gt;
&lt;/div&gt;</code></pre>
<p>当然了，再查看效果前你要给md加上标签才行：</p>
<pre><code>---
title: story6
date: 2020-01-18 22:11:30
tags:
 - tag1
 - tag2
categories: 技术
keywords:
description:
photos: /images/pic01.jpg
---</code></pre><p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"><br>光显示了名称还不行，还要跳转到相关页面，那url怎么获取呢？官方文档中并未做详细说明，可以去看源码。不过最简单的还是把tag输出就知道了，在tags循环中加入console.log：</p>
<pre><code>&lt;% post.tags.each(function(tag){%&gt;
  &lt;% console.log(tag) %&gt;
  &lt;a href=&quot;&quot; class=&quot;tag&quot;&gt;&lt;%= tag.name %&gt;&lt;/a&gt;
&lt;% }) %&gt;</code></pre><p>可以看到cmd输出如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQ64XPCXGbnahIlKsLYhggxpXbqvD8Iibjaza6TrBYEjxvSzvemuXGJPA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>所以tag.path就可以获取到url了</p>
<pre><code>&lt;div class=&quot;tags&quot;&gt;
&lt;span&gt;标签：&lt;/span&gt;
&lt;% post.tags.each(function(tag){%&gt;
  &lt;a href=&quot;&lt;%- url_for(tag.path) %&gt;&quot; class=&quot;tag&quot;&gt;&lt;%= tag.name %&gt;&lt;/a&gt;
&lt;% }) %&gt;
&lt;/div&gt;</code></pre><h2><span id="标签页空白">标签页空白？</span></h2><p>再上一步加好url后，尝试点击标签，会跳转到一个页面:<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQxJyiaTb7XgB8Iu8NWJJkTUzyBfmLqjxLTgf9rIiaU4qPD77VY47DJyzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>为啥除了footer全是空白。回想一下之前的文章详情页的时候是不是也这样，再次回顾文档：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"><br>加上这句：</p>
<blockquote>
<p>每个模板都默认使用 layout 布局，您可在 front-matter 指定其他布局，或是设为 false 来关闭布局功能，您甚至可在布局中再使用其他布局来建立嵌套布局。</p>
</blockquote>
<p>分析一下，链接跳转tag模板，默认使用layout:</p>
<pre><code>&lt;html&gt;
  &lt;!-- //头部模版 --&gt;
  &lt;%- partial(&#39;_partial/header&#39;) %&gt;
  &lt;body class=&quot;is-preload&quot;&gt;
    &lt;!-- //内容模版 --&gt;
    &lt;%- body %&gt;
    &lt;!-- //尾部模版 --&gt;
    &lt;%- partial(&#39;_partial/footer&#39;) %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>所以在加载了footer和header(header只是引用css等，不会在页面显示)，然后&lt;%- body %&gt;加载了tag模板。而我们的tag模板里啥都没有，所以显示空白。</p>
<h2><span id="tag页模板">tag页模板</span></h2><p>tag页怎么建好呢，没想好的可以参考下其他主题点击标签后的效果。等你想好前可以试着验证下上一步的分析推论，在tag.ejs下加入如下代码：(可以看到页面出来了)</p>
<pre><code class="html">&lt;h1&gt;This is Tags page&lt;/h1&gt;
&lt;h1&gt;This is Tags page&lt;/h1&gt;
&lt;h1&gt;This is Tags page&lt;/h1&gt;
&lt;h1&gt;This is Tags page&lt;/h1&gt;
&lt;h1&gt;This is Tags page&lt;/h1&gt;</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQoO0oJx1GJvmicMicbUwcxyUzvcVSfWjZKpZkEF2hicmykicDXdq2qBk4YQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>回到正题，tags页面应该显示什么？点击某一个标签，一个标签对应n篇文章（至少有一篇）。所以应该显示的是属于该标签下的文章列表页。所以tag.ejs中应该写显示文章列表页的代码，等等！index首页是显示文章列表页，tag是显示文章列表页，将来分类category也是显示文章列表页，我们应该把显示文章列表页部分单独抽离出来。hexo大部分主题用archive来表示文章列表页，但归档页也叫archive，这里为了好理解，就叫post-list好了。<br>在_partial下新建post-list.ejs文件，把index中的文章列表部分代码复制进去。(应该是全部233333，因为首页没其他东西了)<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQ8BB81IjKmPhluwbOJfwNTSunAjbcNYlnKSl4IicflzygaTQKJqf9FxA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>然后index和tag页都只要简单的引用post-list就行了。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwfUJbzBpSW0MMvBLOZAo6CQ5icrxHqWVJvxEqsy0gXZuEOkQhZguUf6Qu0aCpX65hJvSZuLkVBGN6A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story007获取。</p>
<h2><span id="继续完善文章详情页">继续完善文章详情页</span></h2><p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdpWG8fTQjsjV05gD7hSTiaD3JISrw4AhFDGSvJstKgdjMw7gkMia3nmgAmKfTQjddd47GSO5nb5qyA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>现在的页面右边留空太多了，整体看上去不够居中。所以调下css:</p>
<pre><code class="css">article.wrapper.style1 &gt; .inner {
  padding: 2rem 2.5rem 3rem 2.5rem;
  margin: 50px auto;
  width: 960px;
  box-shadow: 1px 0px 5px 1px #ccc;
}</code></pre>
<p>接着图片和代码块超出了范围：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdpWG8fTQjsjV05gD7hSTiaDkSUU7UzVGSHNw0kzX1d9NdhaFgHuAIZRAdNCXoUTow9HwUNxS9qnJA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<pre><code class="css">article.wrapper.style1 &gt; .inner img {
  width: 100%;
}

article.wrapper.style1 .highlight {
  overflow: auto;
}</code></pre>
<h2><span id="hexo-helper-tocbot添加文章目录toc">hexo-helper-tocbot添加文章目录toc</span></h2><p>如果觉得目录有需要的继续往下看，这里直接安利我之前开发的hexo插件hexo-helper-tocbot及教程<a href="http://mp.weixin.qq.com/s?__biz=MzI2NjE5Nzg4NQ==&mid=2247484082&idx=2&sn=29b6cb808c1d6804994876521b9ce744&chksm=ea908ca0dde705b64e61742117daa2c60ded907e51b77b1b7b11a6d6036c36596f956874c6da&scene=21#wechat_redirect" target="_blank" rel="noopener">hexo-helper-tocbot插件使用教程</a>。</p>
<h3><span id="安装">安装</span></h3><p>在cmd中使用npm或cnpm安装：</p>
<pre><code class="shell">npm i hexo-helper-tocbot --save</code></pre>
<h3><span id="配置">配置</span></h3><p>安装好后在主题下的config中添加教程中的配置：</p>
<pre><code class="yml">tocbot:
  contentSelector: .post-content
  scrollSmooth: true
  headingSelector: h1, h2, h3, h4, h5
  headingsOffset: 45
  scrollSmoothOffset: -45</code></pre>
<p>其中headingsOffset和scrollSmoothOffset要和你主题的头部高度相对应。含义详见API</p>
<p>最后在article.ejs中添下如下代码（注意，这里要把content用</p>
<p>包起来才能识别）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdpWG8fTQjsjV05gD7hSTiaDuxNWiccb1KeDnWET0okfIQVF0QvxWQ8u1H2Xf7KOWmh8vZo68iccicfeA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="添加返回首页按钮">添加返回首页按钮</span></h2><p>网上找了个svg按钮，放上去，然后把a的href改为javascript:history.back(-1)就行，修改后代码如下：（可自由发挥，找更棒的）</p>
<pre><code>&lt;article class=&quot;wrapper style1 align-left&quot;&gt;
  &lt;!-- 返回按扭 --&gt;
  &lt;a href=&quot;javascript:history.back(-1)&quot; class=&quot;cd-nav-trigger&quot;&gt; 
    &lt;span class=&quot;cd-nav-icon&quot;&gt;&lt;/span&gt;
    &lt;svg x=&quot;0px&quot; y=&quot;0px&quot; width=&quot;54px&quot; height=&quot;54px&quot; viewBox=&quot;0 0 54 54&quot;&gt;
    &lt;circle fill=&quot;transparent&quot; stroke=&quot;#656e79&quot; stroke-width=&quot;1&quot; cx=&quot;27&quot; cy=&quot;27&quot; r=&quot;25&quot; stroke-dasharray=&quot;157 157&quot; stroke-dashoffset=&quot;157&quot;&gt;&lt;/circle&gt;
    &lt;/svg&gt;
  &lt;/a&gt; 
  ......
  ......</code></pre><p>css:</p>
<pre><code class="css">/* 返回按钮 */
.cd-nav-trigger {
  transform: rotate(180deg);
}
.cd-nav-trigger {
  position: fixed;
  z-index: 3;
  left: 5%;
  top: 20px;
  height: 54px;
  width: 54px;
  background-color: #233;
  border-radius: 50%;
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
  transition: transform 0.5s;
}
#cd-nav {
  color: #9cb3a8;
  text-decoration: none;
}
.cd-nav-trigger .cd-nav-icon {
  position: absolute;
  left: 50%;
  top: 50%;
  bottom: auto;
  right: auto;
  transform: translateX(-50%) translateY(-50%);
  width: 22px;
  height: 2px;
  background-color: #ffffff;
}
.cd-nav-trigger circle {
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 0.4s 0.3s;
}
.cd-nav-trigger circle {
  transition: stroke-dashoffset 0.4s 0s;
}
.cd-nav-trigger .cd-nav-icon::before, .cd-nav-trigger .cd-nav-icon:after {
  content: &#39;&#39;;
  position: absolute;
  top: 0;
  right: 0;
  width: 50%;
  height: 100%;
  background-color: inherit;
  transform: translateZ(0);
  backface-visibility: hidden;
  transition: transform 0.5s, width 0.5s;
}
.cd-nav-trigger .cd-nav-icon::before {
  transform-origin: right top;
  transform: rotate(45deg);
}
.cd-nav-trigger .cd-nav-icon::after, .cd-nav-trigger .cd-nav-icon::before {
  width: 50%;
  transition: transform 0.5s, width 0.5s;
}
.cd-nav-trigger .cd-nav-icon::after {
  transform-origin: right bottom;
  transform: rotate(-45deg);
}</code></pre>
<p>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story008获取。</p>
<p>继续完善主题，老实说能从一跟着练习到这里的人，开发一个自己的hexo主题已经不是什么难事了。（前题有html、js、css[学习这三最快的地方首推w3cshool]）。开发到这里其实已经讲的差不多了。剩下一些功能都是类似或可有可无的。比如分类和标签是类似的，单页面都是一样的，今天我个就来开发一个单页面。</p>
<h2><span id="文章归档单页面">文章归档单页面</span></h2><p>即archive页，如果还记得之前的教程或有认真看过hexo文档的话，应该知道它是官方给出的六大模板之一。这也是它特殊的地方。如果你打开hexo根目录的package.json的话就能发现：(关于package.json是干啥用自行百度，好奇能使你进步)<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUtp3xIpuJjDaP7k4OXn0Pnq1cJ9oXbaiccOe7icxC3JB8VzSyJveoyiasw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>archive、category、index、tag都在里面，而且都是hexo-generator开头的。那么hexo-generator又是什么呢？来到hexo官网的api页：</p>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUFfayURFlTtjHvDQXUBFjVmdsspbmvQ5XTGs7V9YXN4hzy1O2Ntov1Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>而且也举了归档页面的例子来向我们说明:<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUsicmkaprhw2ClJgiahZGTurj6buxUoIichZlhywEoFdcVtibd1JneYEWhg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>认真看懂它。<br>意思是生成archives/index.html这个文件，提供的数据为所有的文章(data: locals.posts,)，渲染的模板是archive，没有archive就用index替补（layout: [‘archive’, ‘index’]）</p>
<p>好了好了不扯了，关于hexo运行原理一时半会儿也说不完。</p>
<h2><span id="编写代码">编写代码</span></h2><p>以上扯了这么久就是说我们直接在archive.ejs里面撸代码就行了。嗯嗯网上找了个模板，样子如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUEhMFHH98J0Bf6yFLvE3PGraUH1hSvJ9GdSCNjEHn2RLPxA4ZWh1oOw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>先直接将代码复制到archive.ejs中，在source/css中新建archive.css，把需要的css复制其中。再在archive.ejs中引入，部分代码如下：</p>
<pre><code class="html">&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;article&gt;
    &lt;h3&gt;2013&lt;/h3&gt;
    &lt;section&gt;
      &lt;span class=&quot;point-time point-yellow&quot;&gt;&lt;/span&gt;
      &lt;time datetime=&quot;2013-03&quot;&gt;
        &lt;span&gt;March&lt;/span&gt;
        &lt;span&gt;2013&lt;/span&gt;
      &lt;/time&gt;
      &lt;aside&gt;
        &lt;p class=&quot;things&quot;&gt;The FAW&lt;/p&gt;
        &lt;p class=&quot;brief&quot;&gt;&lt;span class=&quot;text-yellow&quot;&gt;Award&lt;/span&gt; (Miami. FL)&lt;/p&gt;
      &lt;/aside&gt;
    &lt;/section&gt;
    &lt;section&gt;
      &lt;span class=&quot;point-time point-red&quot;&gt;&lt;/span&gt;
      &lt;time datetime=&quot;2013-03&quot;&gt;
        &lt;span&gt;March&lt;/span&gt;
        &lt;span&gt;2013&lt;/span&gt;
      &lt;/time&gt;
      &lt;aside&gt;
        &lt;p class=&quot;things&quot;&gt;You reached 500 followers on Twitter&lt;/p&gt;
        &lt;p class=&quot;brief&quot;&gt;&lt;span class=&quot;text-red&quot;&gt;Social Appearance&lt;/span&gt;&lt;/p&gt;
      &lt;/aside&gt;
    &lt;/section&gt;
  &lt;/article&gt;</code></pre>
<p>hexo s后，在浏览器地址栏输入localhost:4000/archives/就能访问到：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUAuwsYo1RGN2YZLbcpwbFMbZTAy7Ga0icev8mcdW5TDTG4iaNRPzkUBGw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img">找到archive的页面变量：（page.year和page.month是undefined，可能哪里需要设置）<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUicV8parwl5vnjFHR0zWLKgmqVBLQ3A4eGIEHVTYcYKNjbZN8efNXJFw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>然后去把测试的md文章都改下时间。万事具备，接下来开始修改html代码：</p>
<pre><code class="html">&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;% console.log(page)%&gt;
  &lt;% page.posts.each(function(post){ %&gt;
    &lt;% console.log(post.title)%&gt;
  &lt;% }) %&gt;
  &lt;article&gt;</code></pre>
<p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUVxKpzGfzzRcpjK7KkIQdUGIxgLicqTI9rOebuKjfztxibUgteuXqgJ6w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>这里说明一下，8,9,5都是我改了后还是2020年的，2019和2018的不在。说明page.posts是不全的，我们应该用网站变量：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUHlUcqZNbUD27xrCiafVrUib16apD1MkyzgfTZalz3UMtd1uqzCmfkiaSA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<pre><code>&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;% console.log(site)%&gt;
  &lt;% site.posts.each(function(post){ %&gt;
    &lt;% console.log(post.title)%&gt;
  &lt;% }) %&gt;</code></pre><p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUNJCBk4FJcJ9Usic0M9iaA4hheFYGFzylTHVsmq5qUHMyJaAICnE8KqZA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>但是可以看出它似乎没有按照时间排序，前面我们有说过page.posts是Model.js的model对像，在Query.js中给我们提供了个sort方法如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUBD6T2siclzKgLyIddJQ55rVP9zQUiazXSrIrRmyIp3Pl63H388Njc60Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>所以修改代码如下：</p>
<pre><code>&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;% console.log(site)%&gt;
  &lt;% site.posts.sort(&#39;date&#39;).each(function(post){ %&gt;
    &lt;% console.log(post.title)%&gt;
  &lt;% }) %&gt;</code></pre><p><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZU7icVtZDY17yX1RyawEwPr2N2JczlNvtn2VAI1ofNBQXlv3P3OdNQsRQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>可以看到已经按时间排序了。</p>
<p>coding……</p>
<pre><code>&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;% var tempYear %&gt;
  &lt;% var posts = site.posts.sort(&#39;date&#39;) %&gt;
  &lt;% posts.each(function(post, i){ %&gt;
    &lt;% var currentYear = parseInt(date(post.date, &#39;YYYY&#39;)); %&gt;
    &lt;% if (tempYear != currentYear){ %&gt;
      &lt;% tempYear = currentYear %&gt;
      &lt;article&gt;
        &lt;h3&gt;&lt;%- currentYear%&gt;&lt;/h3&gt;
    &lt;% } %&gt;
        &lt;section&gt;
          &lt;span class=&quot;point-time point-yellow&quot;&gt;&lt;/span&gt;
          &lt;time datetime=&quot;&lt;%- date(post.date, &#39;YYYY-MM&#39;)%&gt;&quot;&gt;
            &lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD,&#39;)%&gt;&lt;/span&gt;
          &lt;/time&gt;
          &lt;aside&gt;
            &lt;p class=&quot;things&quot;&gt;&lt;%= post.title%&gt;&lt;/p&gt;
             &lt;p class=&quot;brief&quot;&gt;&lt;span class=&quot;text-yellow&quot;&gt;&lt;%= Object.values(post.categories.data[0])[0] %&gt;
            &lt;/span&gt;&lt;/p&gt;
          &lt;/aside&gt;
        &lt;/section&gt;
    &lt;% if (!posts.eq(i + 1) || currentYear != parseInt(date(posts.eq(i + 1).date, &#39;YYYY&#39;))){ %&gt;
      &lt;/article&gt;
    &lt;% } %&gt;
  &lt;% }) %&gt;
&lt;/div&gt;</code></pre><p>最后效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwdxTfh1Rq6s8gavhOm6siaZUxT6ia1lVylj8iaXhHdnjKk1lw2LTJ1TZHLe20NuMBqZuiaGAcB15WpW5w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>如果想让归档列表按照分类显示不同颜色怎么实现呢？</p>
<p>代码解释和实现方法待续 To be continued……<br>代码同步上传在github仓库和百度云上，关注公众号<a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a>回复story009获取。</p>
<h2><span id="代码解释">代码解释</span></h2><pre><code class="html">&lt;%- css([&#39;/css/archive.css&#39;]) %&gt;
&lt;div class=&quot;content&quot;&gt;
  &lt;% var tempYear %&gt;
  &lt;% var posts = site.posts.sort(&#39;date&#39;) %&gt;
  &lt;% posts.each(function(post, i){ %&gt;
    &lt;% var currentYear = parseInt(date(post.date, &#39;YYYY&#39;)); %&gt;
    &lt;% if (tempYear != currentYear){ %&gt;
      &lt;% tempYear = currentYear %&gt;
      &lt;article&gt;
        &lt;h3&gt;&lt;%- currentYear%&gt;&lt;/h3&gt;
    &lt;% } %&gt;
        &lt;section&gt;
          &lt;span class=&quot;point-time point-yellow&quot;&gt;&lt;/span&gt;
          &lt;time datetime=&quot;&lt;%- date(post.date, &#39;YYYY-MM&#39;)%&gt;&quot;&gt;
            &lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD,&#39;)%&gt;&lt;/span&gt;
          &lt;/time&gt;
          &lt;aside&gt;
            &lt;p class=&quot;things&quot;&gt;&lt;%= post.title%&gt;&lt;/p&gt;
             &lt;p class=&quot;brief&quot;&gt;&lt;span class=&quot;text-yellow&quot;&gt;&lt;%= Object.values(post.categories.data[0])[0] %&gt;
            &lt;/span&gt;&lt;/p&gt;
          &lt;/aside&gt;
        &lt;/section&gt;
    &lt;% if (!posts.eq(i + 1) || currentYear != parseInt(date(posts.eq(i + 1).date, &#39;YYYY&#39;))){ %&gt;
      &lt;/article&gt;
    &lt;% } %&gt;
  &lt;% }) %&gt;
&lt;/div&gt;</code></pre>
<p>首先在循环外部定义了两个变量teamYear和posts。其中tempYear用来保存临时的年份信息，posts则是保存了按时间排序的所有文章数组。接下来循环posts，第一次循环的时候用currentYear来保存当前这篇文章的创建的年份，此时tempYear肯定和currentYear不等的，所以能进入if语句，将currentYear赋值给tempYear，并生成了article和年份的标题。接下来就是生成文章信息，没啥好说的。最后在用eq(i+1)来获取下一篇文章的信息。顺带一提，eq()这方法也是Model.js中提供的方法。如果没有下一篇了或者下一篇文章的创建年份和这一篇不同，则结束article标签，下一个循环又会再一次进if语句，生成新的年份。反之下一循环还在这一年份，那么此时tempYear肯定和currentYear是相等的，则不会进入if语句，只是在article中增加了一个section来展示文章。（不知道看懂没，我觉得应该能看懂了）</p>
<h2><span id="分类显示不同颜色">分类显示不同颜色</span></h2><p>首先我们确定颜色是由text-yellow这个class决定的，只要把每个分类名对应一个颜色类就搞定了。可以使用js来实现，当然也可以用css来实现（中文类名也是可以的哦，当然不支持这样做）。这里我采用取巧的方法，顺带也讲个hexo文档中重要的知识点：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwen53icYdnElhxLWE09tibDulCOaicGvBePq1RdY8gaRmtnQ8OhALYCDHGdf5PkibgmNKIdPxCT36iaSoA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>我们要用它的关键在这里：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwen53icYdnElhxLWE09tibDulyJHsEicjIjJXukg5aXkGLbZvQKTp4ZxsOhcahOKT4UMMsvD74p3qRvA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>因为我们的language: zh-cn，所以在主题languages文件夹中新建zh-cn.yml，然后在里面输入下内容</p>
<pre><code>color:
  技术: blue
  生活: green
  相册: red
  vlog: yellow</code></pre><p>修改archive.ejs如下：</p>
<pre><code class="html">......
&lt;section&gt;
  &lt;!-- 取巧方法，只认第一个分类 --&gt;
  &lt;% var category = Object.values(post.categories.data[0])[0]%&gt;
  &lt;span class=&quot;point-time point-&lt;%= __(&#39;color.&#39; + category)%&gt;&quot;&gt;&lt;/span&gt;
  &lt;time datetime=&quot;&lt;%- date(post.date, &#39;YYYY-MM&#39;)%&gt;&quot;&gt;
    &lt;span&gt;&lt;%- date(post.date, &#39;MMMM DD,&#39;)%&gt;&lt;/span&gt;
  &lt;/time&gt;
  &lt;aside&gt;
    &lt;p class=&quot;things&quot;&gt;&lt;%= post.title%&gt;&lt;/p&gt;
    &lt;p class=&quot;brief&quot;&gt;&lt;span class=&quot;text-&lt;%= __(&#39;color.&#39; + category)%&gt;&quot;&gt;&lt;%= category%&gt;
    &lt;/span&gt;&lt;/p&gt;
  &lt;/aside&gt;
&lt;/section&gt;
......</code></pre>
<p>然后顺带把article.ejs中的返回按钮也给它加上，最终效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwen53icYdnElhxLWE09tibDuldK36WJt35HI4Yv81LzpNHnxEgGIOUHz7J2mqJTibvaaYwic8OkaBM2yQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="首页侧边栏导航">首页侧边栏导航</span></h2><p>主题开发到这其实还有很多必要的东西未加上去，比如现在首页还没有一个导航能够到archive.ejs页，手机端适配等很多问题。还有一些小功能，比如赞赏、分享等等。想了一下，现在最紧急的应该就是首页导航了，准备用侧边栏。网上找了个侧边栏代码如下：</p>
<pre><code class="html">&lt;nav&gt;
  &lt;div class=&quot;menu-btn&quot;&gt;
    &lt;div class=&quot;line line__1&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__2&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__3&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;div class=&quot;sub-menu-btn&quot;&gt;
    &lt;div class=&quot;line line__1&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__2&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;ul class=&quot;nav-links&quot;&gt;
    &lt;li class=&quot;link&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;link&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;About&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;designers&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;developers&lt;/a&gt;&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/li&gt;
    &lt;li class=&quot;link&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;Work&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;web&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;graphic &lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;apps &lt;/a&gt;&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/li&gt;
    &lt;li class=&quot;link&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;Contact&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Email&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Social&lt;/a&gt;&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/li&gt;
    &lt;li class=&quot;link&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;follow me&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;
          &lt;a target=&quot;_blank&quot; href=&quot;https://www.17sucai.com/&quot;&gt;
            Twitter &lt;i class=&quot;fab fa-twitter&quot;&gt;&lt;/i&gt;
          &lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a target=&quot;_blank&quot; href=&quot;https://www.17sucai.com/&quot;&gt;
            Codepen &lt;i class=&quot;fab fa-codepen&quot;&gt;&lt;/i&gt;
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ol&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
<p>包括css和js代码添加在story\source\js\sidebar.js和story\source\css\sidebar.css，而后在header中引入css,footer中引入js，由于篇幅有限，这里就不展示了。这里说一下为啥有些css和js不在header和footer中引入，比如archive.css。因为这个css只有归档页面中有用到，没必要在其他页面中引入它，这也加快了页面加载速度，后其也可以把多个css、js合并压缩成一个，这样会减少请求次数，也优化了页面速度。</p>
<p>加入后效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwen53icYdnElhxLWE09tibDul1Q1q08KKtMiaPv0bvF98qCvWuqYMsME5jN5BmVLU4l5icDj7GHJwVjXA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注回复story010获取。</p>
<h2><span id="完善侧边栏">完善侧边栏</span></h2><p>上一篇教程我们已经把侧边栏成功的加入到我们的story主题中了，但是该侧边栏还是写死的数据。所以开始把它和我们的主题目录绑定起来。有用过hexo主题的朋友应该知道在config中一般有个menu配置项，用来配置博客的模板页。今天我们就来实现这一过程。<br>在此之前，有一样东西必须要了解一下（虽然不了解也没事）。那就是config.yml，如果说你学习过其他语言，甚至是开发过一些项目。那么你用的配置文件可能是.json.conf.xml.pro.ini。那么hexo中的.yml又是什么呢？感兴趣的可以学习另一篇文章：<a href="http://mp.weixin.qq.com/s?__biz=MzI2NjE5Nzg4NQ==&mid=2247484098&idx=4&sn=9291661cbddfcb5c4950143814a6d1a7&chksm=ea908cd0dde705c6e0e19f0db2b896353ca66665742869c636eba5f4cfa6b605119b42f6e2a6&scene=21#wechat_redirect" target="_blank" rel="noopener">yaml基本语法及实现Hexo二级导航栏功能</a><br>开始撸代码之前我们要在config中添加sidebar的项：（暂定如下，图标还未考虑好）</p>
<pre><code>sidebar: # 侧边栏
  首页: { path: /, fa: fa }
  归档: { path: /, fa: fa }
  关于: { path: /, fa: fa }
  项目: { path: /, fa: fa, submenus: { 
    hexo-theme-sakura: { path: /, fa: fa}, 
    hexo-theme-story: { path: /, fa: fa}, 
    hugo-theme-diaspora: { path: /, fa: fa}, 
    hugo-theme-jsimple: { path: /, fa: fa}
  } }
  友链: { path: /, fa: fa }
  FOLLOW ME: { path: /, fa: fa, submenus: { 
    qq: { path: /, fa: fa}, 
    sina: { path: /, fa: fa}, 
    github: { path: /, fa: fa },
    weichat: { path: /, fa: fa}, 
    bilibili: { path: /, fa: fa },
  } }</code></pre><p>因为post-list中的代码已经够多，而且侧边栏也不算是post-list，所以我们在_partial下新建一个sidebar.ejs文件，把侧边栏代码放进去。然后修改代码如下：(为啥用for in?因为循环的是对象)</p>
<pre><code class="html">&lt;nav&gt;
  &lt;div class=&quot;menu-btn&quot;&gt;
    &lt;div class=&quot;line line__1&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__2&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__3&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;div class=&quot;sub-menu-btn&quot;&gt;
    &lt;div class=&quot;line line__1&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;line line__2&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;ul class=&quot;nav-links&quot;&gt;
    &lt;% var sidebar = theme.sidebar %&gt;
    &lt;% for (item in sidebar) {%&gt;
      &lt;li class=&quot;link&quot;&gt;
        &lt;% if (!sidebar[item].submenus) {%&gt;
          &lt;a href=&quot;&lt;%- url_for(sidebar[item].path) %&gt;&quot;&gt;&lt;%- item %&gt;&lt;/a&gt;
        &lt;% } else { %&gt;
          &lt;a href=&quot;&lt;%- url_for(sidebar[item].path) %&gt;&quot; style=&quot;pointer-events: none;&quot;&gt;&lt;%- item %&gt;&lt;/a&gt;
          &lt;ol&gt;
            &lt;% for (submenu in sidebar[item].submenus) {%&gt;
              &lt;li&gt;&lt;a href=&quot;&lt;%- url_for(sidebar[item].submenus[submenu].path) %&gt;&quot;&gt;&lt;%- submenu %&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;% } %&gt;
          &lt;/ol&gt;
        &lt;% } %&gt;
      &lt;/li&gt;
    &lt;% } %&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
<p>就里讲下pointer-events: none<br>pointer-events 更像是JavaScript，它能够：</p>
<ul>
<li>阻止用户的点击动作产生任何效果</li>
<li>阻止缺省鼠标指针的显示</li>
<li>阻止CSS里的 hover 和 active 状态的变化触发事件</li>
<li>阻止JavaScript点击动作触发的事件</li>
</ul>
<p>了解更多参考MDN:pointer-events<br>侧边栏效果如下：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwegBEzbL544WYeRUgnRbwq4lBicxfmicxSsh7Tn3PDsicjRBgRkWEWxFW6UkGHs8PPLftRSeIuic17GxA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h2><span id="给侧边栏添加图标">给侧边栏添加图标</span></h2><p>先在header.ejs中添加fontawesome的css:</p>
<pre><code>&lt;%- css([&#39;/css/main.css&#39;, &#39;/css/noscript.css&#39;, &#39;/css/sidebar.css&#39;, &#39;/css/fontawesome-all.min.css&#39;]) %&gt;</code></pre><p>接着来到fontawesome官网<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwegBEzbL544WYeRUgnRbwq45KHK1qFds94m7m1ekjTdhw0GO6ic12ayJjv9ttiaWgUIgZKEDupIiaTbg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>点击图标，找到home的class。同理找到其他的图标。<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwegBEzbL544WYeRUgnRbwq4UbTobL7DbXIhQc7VaOTUS5TcfoxOvCdywrAiaMhic0YEUZVOFS3gJH7w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"><br>修改config如下：（subsmenu就留给你们练手了）</p>
<pre><code>sidebar: # 侧边栏
  首页: { path: /, fa: fa fa-home }
  归档: { path: /archives/, fa: fa fa-archive }
  关于: { path: /, fa: fa fa-question-circle }
  项目: { path: /, fa: fa fa-paper-plane, submenus: { 
    hexo-theme-sakura: { path: /, fa: fa}, 
    hexo-theme-story: { path: /, fa: fa}, 
    hugo-theme-diaspora: { path: /, fa: fa}, 
    hugo-theme-jsimple: { path: /, fa: fa}
  } }
  友链: { path: /, fa: fa fa-link }
  FOLLOW ME: { path: /, fa: fa fa-heart, submenus: { 
    qq: { path: /, fa: fa}, 
    sina: { path: /, fa: fa}, 
    github: { path: /, fa: fa },
    weichat: { path: /, fa: fa}, 
    bilibili: { path: /, fa: fa }
  } }</code></pre><p>然后修改sidebar.ejs代码如下：(加了个i标签哦)</p>
<pre><code>&lt;% if (!sidebar[item].submenus) {%&gt;
  &lt;a href=&quot;&lt;%- url_for(sidebar[item].path) %&gt;&quot;&gt;&lt;i class=&quot;&lt;%= sidebar[item].fa %&gt;&quot;&gt;&lt;/i&gt;&lt;%- item %&gt;&lt;/a&gt;
&lt;% } else { %&gt;
  &lt;a href=&quot;&lt;%- url_for(sidebar[item].path) %&gt;&quot; style=&quot;pointer-events: none;&quot;&gt;&lt;i class=&quot;&lt;%= sidebar[item].fa %&gt;&quot;&gt;&lt;/i&gt;&lt;%- item %&gt;&lt;/a&gt;</code></pre><p>最终效果如下！：<br><img class="lozad" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" data-original="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/loader/orange.progress-bar-stripe-loader.svg" src="https://mmbiz.qpic.cn/mmbiz_png/7oh1DvJRVwegBEzbL544WYeRUgnRbwq4VdiadLy84CFLwUuBn7SJPHmUgeRdLQ2X8kx4Qm0Eicg1SC3BnrPtrbrg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>代码同步上传在github仓库和百度云上，关注回复story011获取。</p>
<p><font text-align="center">本文完</font><br>由于转载的，故图片不想一个个弄出来了<br>你们自己到作者公众号去看吧</p>
<p><font color="red" size="18px">文章来源：</font></p>
<hr>
<p><font color="pink" size="6px">|文章链接：</font><a href="https://mp.weixin.qq.com/s/XhTqTpA77is96QKqnVVzwg" target="_blank" rel="noopener">都2020了，带你开发hexo主题</a></p>
<p><font color="pink" size="6px">|公众号：</font> <a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI2NjE5Nzg4NQ==&scene=124#wechat_redirect" target="_blank" rel="noopener">Creators创作者</a></p>
<p><font color="pink" size="6px">|作者：</font>Hojun</p>
<p><font color="pink" size="6px">|作者博客：</font><a href="https://www.hojun.cn/" target="_blank" rel="noopener">https://www.hojun.cn/</a></p>
<hr>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
      
       
    </div>
</article>




<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>

<!-- 
<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>都2020了，带你开发hexo主题</p>
    <p><span class="copy-title">字数:</span><span class="post-count">11.4k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="Luwang">Luwang</a></p>
    <p><span class="copy-title">发布时间:</span>2020-02-04, 22:16:01</p>
    <p><span class="copy-title">最后更新:</span>2020-02-27, 15:39:45</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2020/02/04/hexotheme/" title="都2020了，带你开发hexo主题">https://wallleap.cn/2020/02/04/hexotheme/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">&#34;署名-非商用-相同方式共享 4.0&#34;</a> 转载请保留原文链接及作者。
    </p>
</div>
 -->

    
    <div class="article_copyright">
        <p><span class="copy-title">文章标题:</span>都2020了，带你开发hexo主题</p>
        <p><span class="copy-title">文章字数:</span><span class="post-count">11.4k</span></p>
        <p><span class="copy-title">本文作者:</span>hojun</a></p>
        <p><span class="copy-title">发布时间:</span>2020-02-04, 22:16:01</p>
        <p><span class="copy-title">最后更新:</span>2020-02-27, 15:39:45</p>
        <span class="copy-title">原始链接:</span><a class="post-url" href="https://mp.weixin.qq.com/s/XhTqTpA77is96QKqnVVzwg" target="_blank" rel="noopener" title="都2020了，带你开发hexo主题">https://mp.weixin.qq.com/s/XhTqTpA77is96QKqnVVzwg</a>
        <p>
            <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 本文是转载的，若您想转载请保留原文链接及作者。
        </p>
    </div>
    

    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'c34c4610e9454bf73702',
            clientSecret: 'bccb16d6af22e10394fcf4fc3bb916f541b0492c',
            repo: 'comment',
            owner: 'wallleap',
            admin: ['wallleap'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>







    </div>
    <div class="copyright">
        <!-- <p class="footer-entry"><span class="miit">
                <img src="/img/gov.png" title="中华人民共和国工业和信息化部">
                <a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener">赣ICP备20000895号</a>
        </span>
    
    ©2019-2020 wallleap
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p> -->



<div id="colophon" class="site-footer" role="contentinfo" style="background-color: transparent;font-size: 12px;">
    <div class="site-info">
        <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        <a style="color: #b9b9b9;" href="https://www.jinrishici.com/" target="_blank" rel="noopener"><span id="poem_sentence" style="text-align: left;"></span>
        <span id="poem_info" style="text-align: right;"></span></a>
        <script type="text/javascript">
          jinrishici.load(function(result) {
            var sentence = document.querySelector("#poem_sentence")
            var info = document.querySelector("#poem_info")
            sentence.innerHTML = result.data.content
            info.innerHTML = '【' + result.data.origin.dynasty + '】' + result.data.origin.author + '《' + result.data.origin.title + '》'
          });
        </script>
      <!-- // 文字滚动 -->
      
      <!-- <div id="binft" style="text-align:center; color: #666666;"></div>
      <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/textScroll.js"></script> -->
     
      <div class="footertext">
        <div class="img-preload">
          <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/other/wordpress-rotating-ball-o.svg">
          <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/other/disqus-preloader.svg">
        </div>
    
          
  
        <p style="color: #666666;"><a href="#" style="color: #b9b9b9;">Blog wallleap</a>
          , Copyright &copy; 2019-2020 
          by Luwang All Rights Reserved.</p>
      </div>
      <!-- <div class="footer-device">
      <p style="font-family: 'Ubuntu', sans-serif;">
          <i class="fa fa-fire" aria-hidden="true"></i>
          <span style="color: #666;">
            Theme <a style="color: #b9b9b9;" href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank" style="color: #b9b9b9; text-decoration: underline dotted rgba(0, 0, 0, .1);">3-hexo</a>
             <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> 
             by <a href="https://yelog.org/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">yelog</a>
             , Powered by <a style="color: #b9b9b9;" href="https://hexo.io/" target="_blank">Hexo</a>
             , Hosted by <a style="color: #b9b9b9;" href="https://coding.net/" target="_blank">Coding Pages</a>
              & <a style="color: #b9b9b9;" href="https://github.com/" target="_blank">Github Pages</a>
          </span>
        </p>
      </div> -->
  
      
      <a style="color: #b9b9b9;" href="http://beian.miit.gov.cn/" target="_blank">	
        <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/logo/ICP.png" style="vertical-align: text-bottom; width: 17px;" />
        赣ICP备20000895号-1
      </a>
      <a href="https://icp.gov.moe" target="_blank"><img style="width:17px;margin-bottom: -2px;" src="https://icp.gov.moe/images/ico64.png">萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20200895" target="_blank"> 20200895号</a>
      
      <span style="color: #666;padding-left: 20px;">
        <i class="fa fa-clock-o" aria-hidden="true"></i>
        <span id="time" align="center">载入时间中...</span>
        <script>
          var now = new Date(); 
          function createtime() { 
            var grt= new Date("08/08/2019 17:38:00");//在此处修改你的建站时间
            now.setTime(now.getTime()+250); 
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
            document.getElementById("time").innerHTML = "小站已经苟活 "+dnum+" 天 "+hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
         } 
         setInterval("createtime()",250);
        </script>
        <!-- <span style="color:#666;padding-left: 20px;"><i class="fa fa-eye" aria-hidden="true"></i>访问量: <span class="site_pv"></span>次</span> -->
        <span style="padding-left: 20px; color:#666;"><i class="fa fa-cog fa-spin" aria-hidden="true"></i></span>
        <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278079074'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278079074%26online%3D2' type='text/javascript'%3E%3C/script%3E"));</script>
        
      </span>
      <div style="text-align:center; padding-top: 20px;">
        <div class="github-badge">
          <a rel="license" href="https://hexo.io/" target="_blank" title="由Hexo强力驱动">
          <span class="badge-subject"><i class="fa fa-fire" aria-hidden="true"></i> Powered</span><span class="badge-value bg-blue">Hexo</span></a>
        </div>
        <div class="github-badge">
          <a rel="license" href="https://github.io/" target="_blank" title="静态网页托管于Github">
          <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen"><i class="fa fa-github" aria-hidden="true"></i> Github</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="https://coding.net/" target="_blank" title="静态网页托管于CODING">
            <span class="badge-subject"><i class="fa fa-heart" aria-hidden="true"></i> Hosted</span>
            <span class="badge-value bg-gray">CODING</span></a>
          </div>
        <div class="github-badge">
            <a rel="license" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivr提供CDN加速服务">
            <span class="badge-subject"><i class="fa fa-firefox fa-spin" aria-hidden="true"></i> CND</span><span class="badge-value bg-cdn">Github&jsDelivr</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank" title="站点使用 Sakura 主题，作者：Mashiro & Hojun">
            <span class="badge-subject"><i class="fa fa-themeisle" aria-hidden="true"></i> Theme</span><span class="badge-value bg-theme">3-blog</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可">
            <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
        </div>
        <div class="github-badge">
          <span class="badge-subject"><i class="fa fa-user" aria-hidden="true"></i> UV</span>
          <span  class="site_uv badge-value bg-orange""></span>
        </div>
        <div class="github-badge">
          <span class="badge-subject"><i class="fa fa-eye" aria-hidden="true"></i> PV</span>
          <span class="site_pv badge-value bg-brightgreen"></span>
        </div>
      </div>  
  
      <div class="site-img" style="margin-top:20px;">
        <a href="#"><img width="350px" src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/wechat/wallleap.png"></a>
        <!-- <a href="https://www.google.com/search?sxsrf=ACYBGNT2ZrasjGUBG6Nj1_Xye1N67lpsrA%3A1573382249794&source=hp&ei=aejHXey4LYHu-gSQlLqgDg&q=site%3Awallleap.cn&oq=site%3Awallleap.cn&gs_l=psy-ab.3...32142.36345..36698...0.0..4.1018.9243.3-5j2j5j3j1......0....1..gws-wiz.....10..35i362i39j35i39j0.9jvLRXQs6zM&ved=0ahUKEwiskd7Qud_lAhUBt54KHRCKDuQQ4dUDCAY&uact=5" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/Google.svg" width="100px" height="80px"></a>
        <a href="https://www.baidu.com/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/baidu.png" width="100px" height="80px"></a>
        <a href="https://www.jsdelivr.com/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/JsDelivr_Logo.svg" width="100px" height="80px"></a>
        <a href="https://github.com/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/github-logo.jpg" width="100px" height="80px"></a>
        <a href="https://aliyun.com/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/aliyun-logo.png" width="100px" height="80px"></a>
        <a href="https://dev.tencent.com/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/logo/tencentyun-logo.jpg" width="100px" height="80px"></a>   -->
      </div>
      <!-- <div>
        <a href="https://hexo.io" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Powered-Hexo-blue" alt="Hexo"></a>
        <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Theme-3--hexo-%232c2735" alt="3-blog"></a>
        <a href="https://github.com/" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Hosted-GitHub-%2324292e" alt="GitHub"></a>
        <a href="https://coding.net/" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Hosted-CODING-%23141a3f" alt="CODING"></a>
        <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/CDN-jsDelivr-%23ee3232" alt="jsDelivr"></a>
      </div> -->
    </div><!-- .site-info -->
  </div>
    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


<script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'photoSwipe';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        

        // PhotoSwipe
        $('article').each(function(i){
            $(this).find('img').each(function(){
                if ($(this).closest('figure').hasClass('article-gallery-img')) {
                    return;
                }
                var alt = this.alt;
                $(this)
                    .wrap('<figure class="article-gallery-img" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject"></figure>')
                    .wrap('<a href="' + this.src + '" title="' + alt + '"></a>');
                $(this).after('<div class="img_alt"><span>' + (alt || '') + '</span></div>');
            });
        });

        var pswpElement = document.querySelectorAll('.pswp')[0];
        if (pswpElement) {
            var gallerySelector = '.article-gallery, article';

            var initPhotoSwipeFromDOM = function(gallerySelector) {

                // parse slide data (url, title, size ...) from DOM elements
                // (children of gallerySelector)
                var parseThumbnailElements = function(el) {
                    var thumbElements = $(el).find('figure.article-gallery-img').toArray(),
                        numNodes = thumbElements.length,
                        items = [],
                        figureEl,
                        linkEl,
                        size,
                        imgEl,
                        item;

                    for (var i = 0; i < numNodes; i++) {

                        figureEl = thumbElements[i]; // <figure> element

                        // include only element nodes
                        if (figureEl.nodeType !== 1) {
                            continue;
                        }

                        linkEl = figureEl.children[0]; // <a> element
                        imgEl = linkEl.children[0]; // <img>

                        size = linkEl.getAttribute('data-size');
                        size = size && size.split('x');

                        // create slide object
                        item = {
                            src: linkEl.getAttribute('href'),
                            w: size && parseInt(size[0], 10) || imgEl.width,
                            h: size && parseInt(size[1], 10) || imgEl.height
                        };

                        if (figureEl.children.length > 1) {
                            // <figcaption> content
                            item.title = figureEl.children[1].innerHTML;
                        }

                        if (linkEl.children.length > 0) {
                            // <img> thumbnail element, retrieving thumbnail url
                            item.msrc = linkEl.children[0].getAttribute('src');
                        }

                        item.el = figureEl; // save link to element for getThumbBoundsFn
                        items.push(item);
                    }

                    return items;
                };

                // find nearest parent element
                var closest = function closest(el, fn) {
                    return el && (fn(el) ? el : closest(el.parentNode, fn));
                };

                // triggers when user clicks on thumbnail
                var onThumbnailsClick = function(e) {
                    e = e || window.event;

                    var eTarget = e.target || e.srcElement;

                    // find root element of slide
                    var clickedListItem = closest(eTarget, function(el) {
                        return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                    });

                    if (!clickedListItem) {
                        return;
                    }

                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    // find index of clicked item by looping through all child nodes
                    // alternatively, you may define index via data- attribute
                    var clickedGallery = $(clickedListItem).closest(gallerySelector)[0],
                        childNodes = $(clickedGallery).find('figure.article-gallery-img').toArray(),
                        numChildNodes = childNodes.length,
                        nodeIndex = 0,
                        index;

                    for (var i = 0; i < numChildNodes; i++) {
                        if (childNodes[i].nodeType !== 1) {
                            continue;
                        }

                        if (childNodes[i] === clickedListItem) {
                            index = nodeIndex;
                            break;
                        }
                        nodeIndex++;
                    }



                    if (index >= 0) {
                        // open PhotoSwipe if valid index found
                        openPhotoSwipe(index, clickedGallery);
                    }
                    return false;
                };

                // parse picture index and gallery index from URL (#&pid=1&gid=2)
                var photoswipeParseHash = function() {
                    var hash = window.location.hash.substring(1),
                        params = {};

                    if (hash.length < 5) {
                        return params;
                    }

                    var vars = hash.split('&');
                    for (var i = 0; i < vars.length; i++) {
                        if (!vars[i]) {
                            continue;
                        }
                        var pair = vars[i].split('=');
                        if (pair.length < 2) {
                            continue;
                        }
                        params[pair[0]] = pair[1];
                    }

                    if (params.gid) {
                        params.gid = parseInt(params.gid, 10);
                    }

                    return params;
                };

                var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                    var pswpElement = document.querySelectorAll('.pswp')[0],
                        gallery,
                        options,
                        items;

                    items = parseThumbnailElements(galleryElement);

                    // define options (if needed)
                    options = {

                        // define gallery index (for URL)
                        galleryUID: galleryElement.getAttribute('data-pswp-uid'),

                        getThumbBoundsFn: function(index) {
                            // See Options -> getThumbBoundsFn section of documentation for more info
                            var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                                rect = thumbnail.getBoundingClientRect();

                            return {
                                x: rect.left,
                                y: rect.top + pageYScroll,
                                w: rect.width
                            };
                        }
                    };

                    // PhotoSwipe opened from URL
                    if (fromURL) {
                        if (options.galleryPIDs) {
                            // parse real index when custom PIDs are used
                            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
                            for (var j = 0; j < items.length; j++) {
                                if (items[j].pid == index) {
                                    options.index = j;
                                    break;
                                }
                            }
                        } else {
                            // in URL indexes start from 1
                            options.index = parseInt(index, 10) - 1;
                        }
                    } else {
                        options.index = parseInt(index, 10);
                    }

                    // exit if index not found
                    if (isNaN(options.index)) {
                        return;
                    }

                    if (disableAnimation) {
                        options.showAnimationDuration = 0;
                    }

                    // Pass data to PhotoSwipe and initialize it
                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);

                    gallery.listen('imageLoadComplete', function(index, item) {
                        var linkEl = item.el.children[0];
                        var img = item.container.children[0];
                        if (!linkEl.getAttribute('data-size')) {
                            linkEl.setAttribute('data-size', img.naturalWidth + 'x' + img.naturalHeight);
                            item.w = img.naturalWidth;
                            item.h = img.naturalHeight;
                            gallery.invalidateCurrItems();
                            gallery.updateSize(true);
                        }
                    });

                    gallery.init();
                };

                // loop through all gallery elements and bind events
                var galleryElements = document.querySelectorAll(gallerySelector);

                for (var i = 0, l = galleryElements.length; i < l; i++) {
                    galleryElements[i].setAttribute('data-pswp-uid', i + 1);
                    galleryElements[i].onclick = onThumbnailsClick;
                }

                // Parse URL and open gallery if it contains #&pid=3&gid=1
                var hashData = photoswipeParseHash();
                if (hashData.pid && hashData.gid) {
                    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);
                }
            };

            // execute above function
            initPhotoSwipeFromDOM(gallerySelector);
        }
        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    
    .nav-right nav a.hover > span{
        color: #03a788 !important;
    }
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element, as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
        <!-- don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>








<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<div class="aplayer"

    data-id="2162711186"

    data-server="netease"

    data-type="playlist"

    data-fixed="true"

    data-autoplay="false"

    data-loop="all"

    data-order="random"

    data-preload="auto"

    data-volume="0.7"

    data-mutex="true"

>
</div>
<script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>

<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>

<script>
(function() {

  var arr = new Array();
  var $tags = $('.post-tags').children('a');
  $tags.each(function() {
    arr.push($(this).html())
  })
  if (arr.indexOf("图集") !== -1) {

    $('.hj_img').each(function() {
      $(this).wrap('<a class="fancybox" data-fancybox="gallery" href="' + $(this).prop("src") + '"></a>'); 
    })
    //初始化fancybox，padding设为0，loop设为false
    $('.fancybox').fancybox({
      padding: 0,
      loop: false
    });
  }
})();
</script>

<!-- // 文字 -->
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script>
<!-- // 爱心 -->
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/love.js"></script>
<!-- // 按键屏蔽 需要jQuery -->
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/js/noSomeKey.js"></script>

</html>
